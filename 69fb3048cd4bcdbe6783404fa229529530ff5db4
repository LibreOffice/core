{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "92dfb808_db5510cd",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000037
      },
      "writtenOn": "2022-04-01T09:48:04Z",
      "side": 1,
      "message": "Hmm - so ... a few ideas:\n\n* we want the validation dialog to be asynchronous even when we are not saving; so - I wonder if we should do that too ? perhaps as a next-step.\n\n* auto-save happens randomly - we don\u0027t want users working with data-validation to \nrandomly loose what they are typing; that needs to be stored and restored afterwards (without marking the document \u0027modified\u0027 to avoid another type of burn-CPU-on-headless-exit loop \u003d)\n\n* how do you distinguish comphelper::LibreOfficeKit::isActive() (ie. we are using Online) from special-casing something during save ?\n\nThanks ! \u003d)",
      "revId": "69fb3048cd4bcdbe6783404fa229529530ff5db4",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "98894a7a_e58030b0",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000947
      },
      "writtenOn": "2022-04-01T10:47:53Z",
      "side": 1,
      "message": "Regarding the third question, bAllowErrorDialog is set to true only in the case of `saving + lok`. The saving part is implicit because the call is made from ScTabViewShell::ExecuteSave().\n\nRegarding the second point, is it possible to distinguish in core between an auto save and a normal save (The problem is triggered via a normal Ctrl+S save too).\n\nRegarding the first, I might need a few code pointers or patches regarding \u0027asynchronous\u0027 dialogs to understand this better.\n\nThanks!",
      "parentUuid": "92dfb808_db5510cd",
      "revId": "69fb3048cd4bcdbe6783404fa229529530ff5db4",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "12177205_78b1fe7f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000037
      },
      "writtenOn": "2022-04-06T09:37:31Z",
      "side": 1,
      "message": "Second point - we can\u0027t distinguish between autosave and save I\u0027m afraid; but even for save - we would want to preserve the currently edited content I think if we can. The real key is ensuring that as it is restored we don\u0027t (whatever we do) change the modified flag - or we\u0027ll get a repeated failure to save on exit, and massive CPU / WOPI churn as we continually fail to cleanly save \u003d)\n\nThird point - for async-ness see something like this:\nAuthor: Szymon KÅ‚os \u003cszymon.klos@collabora.com\u003e\nDate:   Wed Oct 27 13:04:17 2021 +0200\n\n    Make Certificate not found dialog async\n\ninstead of doing Dialog-\u003eExecute or somesuch, we need to do a runAsync and capture the data in a nice closure; the dialog can still appear to be modal for that user but it lets others get in and collaboratively edit while this is underway.",
      "parentUuid": "98894a7a_e58030b0",
      "revId": "69fb3048cd4bcdbe6783404fa229529530ff5db4",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615"
    }
  ]
}