--- misc/libloader-1.1.3/common_build.xml	2009-11-16 10:25:34.000000000 +0100
+++ misc/build/libloader-1.1.3/common_build.xml	2009-12-04 10:22:24.277647200 +0100
@@ -497,7 +497,7 @@
         Sets a property build.id to the either "development" or the svn revision
         if in release mode
         ====================================================================-->
-  <target name="set-build.id" unless="build.id" depends="install-antcontrib">
+  <target name="set-build.id" unless="build.id" >
     <if>
       <istrue value="${release}" />
       <then>
@@ -1061,6 +1061,11 @@
 	    Performs the actual compile
 	    ====================================================================-->
   <target name="compile.compile" depends="init">
+    <copy todir="${classes.dir}">
+      <fileset dir="source">
+        <include name="**/*.properties"/>
+      </fileset>
+    </copy>
     <javac destdir="${classes.dir}"
            debug="${javac.debug}"
            deprecation="${javac.deprecation}"
@@ -1082,27 +1082,32 @@
 	    duplicate copying of resources from src tree (handled by compile.src_copy
 	    if jar.include.source is set.
 	    ====================================================================-->
-  <target name="compile.res_copy" depends="install-antcontrib">
-    <if>
-      <available file="${res.dir}" />
-      <then>
-        <copy todir="${classes.dir}">
-          <fileset dir="${res.dir}" />
-        </copy>
-      </then>
-    </if>
+  <target name="compile.res_copy" >
+    <condition property="copy.res.available">
+        <available file="$(res.dir)" type="dir" />
+    </condition>
+    <antcall target="copy.res" />
 
-    <if>
-      <not>
-        <isset property="jar.include.source" />
-      </not>
-      <then>
-        <copy todir="${classes.dir}" flatten="false">
-          <fileset dir="${src.dir}" excludes="**/*.java" />
-        </copy>
-      </then>
-    </if>
-  </target>
+    <condition property="copy.res.class.available">
+        <not>
+            <isset property="jar.include.source" />
+        </not>
+    </condition>
+    <antcall target="copy.res.class" />
+ </target>
+
+ <target name="copy.res" if="copy.res.available" >
+    <copy todir="${classes.dir}">
+        <fileset dir="${res.dir}"/>
+    </copy>
+ </target>
+
+ <target name="copy.res.class" if="copy.res.class.available" >
+    <uptodate targetfile="${classes.dir}" property="s">
+        <srcfiles dir= "${src.dir}" excludes="**/*.java" />
+        <flattenmapper/>
+    </uptodate>
+ </target>
 
 
   <!--=======================================================================
