{
  "comments": [
    {
      "key": {
        "uuid": "7f7f9b97_51280c85",
        "filename": "avmedia/source/win/player.cxx",
        "patchSetId": 4
      },
      "lineNbr": 150,
      "author": {
        "id": 1000045
      },
      "writtenOn": "2019-10-10T06:40:38Z",
      "side": 1,
      "message": "I would check the getSystemPathFromFileURL return status, and upon failure use rURL as a best-effort fallback after all (and SAL_WARN about it)---at which point you can even drop the check for \"file:\" (but then arguably don\u0027t SAL_WARN upon EINVAL)",
      "revId": "938ce37e2f3dc772b832670bac21ef0034389247",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7f7f9b97_f13838d4",
        "filename": "avmedia/source/win/player.cxx",
        "patchSetId": 4
      },
      "lineNbr": 150,
      "author": {
        "id": 1000994
      },
      "writtenOn": "2019-10-10T06:43:21Z",
      "side": 1,
      "message": "Well - the best effort is already ensured by initial assignment in line 148; getSystemPathFromFileURL only assigns its outparam if there\u0027s no error.\n\nBut warning on the failure is useful indeed - will do.",
      "parentUuid": "7f7f9b97_51280c85",
      "revId": "938ce37e2f3dc772b832670bac21ef0034389247",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7f7f9b97_b132c0f0",
        "filename": "avmedia/source/win/player.cxx",
        "patchSetId": 4
      },
      "lineNbr": 150,
      "author": {
        "id": 1000045
      },
      "writtenOn": "2019-10-10T06:48:46Z",
      "side": 1,
      "message": "\u003e Well - the best effort is already ensured by initial assignment in\n \u003e line 148; getSystemPathFromFileURL only assigns its outparam if\n \u003e there\u0027s no error.\n\nIs that guaranteed?  I\u0027m generally a bit sceptical about state of out args upon failue.",
      "parentUuid": "7f7f9b97_f13838d4",
      "revId": "938ce37e2f3dc772b832670bac21ef0034389247",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7f7f9b97_315c7024",
        "filename": "avmedia/source/win/player.cxx",
        "patchSetId": 4
      },
      "lineNbr": 150,
      "author": {
        "id": 1000994
      },
      "writtenOn": "2019-10-10T06:56:47Z",
      "side": 1,
      "message": "It is this way in the win32 implementation ... and I read the outparam description that way:\n\n        @param[out] ustrSystemPath\n        On success it receives the system path.\n\nI suppose that this fully describes the behavior of the function regarding the param: the param is changed *iif* it succeeds. Of course, the omission of the \"else\" *could* in theory be treated as \"no guarantees\", but at least c++ standard tends to treat such descriptions as exhaustive.",
      "parentUuid": "7f7f9b97_b132c0f0",
      "revId": "938ce37e2f3dc772b832670bac21ef0034389247",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7f7f9b97_f13d98bb",
        "filename": "avmedia/source/win/player.cxx",
        "patchSetId": 4
      },
      "lineNbr": 150,
      "author": {
        "id": 1000045
      },
      "writtenOn": "2019-10-10T07:00:04Z",
      "side": 1,
      "message": "Yeah, it may very well be that I was overly sceptical here (and I must admit I didn\u0027t even bother to look at the getSystemPathFromFileURL documentation, let alone its implementation).  So, sorry for the noise :)",
      "parentUuid": "7f7f9b97_315c7024",
      "revId": "938ce37e2f3dc772b832670bac21ef0034389247",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7f7f9b97_117054a5",
        "filename": "avmedia/source/win/player.cxx",
        "patchSetId": 4
      },
      "lineNbr": 150,
      "author": {
        "id": 1000994
      },
      "writtenOn": "2019-10-10T07:07:40Z",
      "side": 1,
      "message": "Oh, regarding SAL_WARN and dropping \"file:\" check: I have checked the implementation of the getSystemPathFromFileURL, and it only can return E_INVAL, nothing else. So could you please advise:\n\n1. If it makes sense to drop the \"file:\" check here (because of possible performance penalty, or because of lack of distinction of the failure reasons);\n2. If 1. is positive, then does it make sense to SAL_WARN it?",
      "parentUuid": "7f7f9b97_51280c85",
      "revId": "938ce37e2f3dc772b832670bac21ef0034389247",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7f7f9b97_71a0a8f5",
        "filename": "avmedia/source/win/player.cxx",
        "patchSetId": 4
      },
      "lineNbr": 150,
      "author": {
        "id": 1000045
      },
      "writtenOn": "2019-10-10T07:28:20Z",
      "side": 1,
      "message": "Probably cleaner then to keep the code as is (and I wouldn\u0027t worry about performance implications of the redundant check).",
      "parentUuid": "7f7f9b97_117054a5",
      "revId": "938ce37e2f3dc772b832670bac21ef0034389247",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": false
    }
  ]
}