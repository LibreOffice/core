{
  "comments": [
    {
      "key": {
        "uuid": "5f7c97a3_83719ce3",
        "filename": "chart2/source/controller/sidebar/ChartColorWrapper.cxx",
        "patchSetId": 2
      },
      "lineNbr": 75,
      "author": {
        "id": 1000045
      },
      "writtenOn": "2019-12-16T12:22:15Z",
      "side": 1,
      "message": "what\u0027s the rationale to also add a dubious return-early for !mxModel?",
      "revId": "e290c3f3e233f03a0b13d19553c637f0a7070fbf",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5f7c97a3_6656ce09",
        "filename": "chart2/source/controller/sidebar/ChartColorWrapper.cxx",
        "patchSetId": 2
      },
      "lineNbr": 75,
      "author": {
        "id": 1001264
      },
      "writtenOn": "2019-12-16T12:57:56Z",
      "side": 1,
      "message": "If we don\u0027t have a valid ref to the model, the rest is doomed to fail. Too defensive? Useless? Or what do you think? I appreciate comments. :)",
      "parentUuid": "5f7c97a3_83719ce3",
      "revId": "e290c3f3e233f03a0b13d19553c637f0a7070fbf",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5f7c97a3_e6909e98",
        "filename": "chart2/source/controller/sidebar/ChartColorWrapper.cxx",
        "patchSetId": 2
      },
      "lineNbr": 75,
      "author": {
        "id": 1000045
      },
      "writtenOn": "2019-12-16T13:21:41Z",
      "side": 1,
      "message": "actively harmful :)\n\ncf7db8226240ca7f425cf649e164767988c80001 \"handle new color picker correctly in chart sidebar\" stated the invariant that neither mxModel nor xPropSet can be null here (directly for xPropSet via the\n\n  assert(xPropSet.is());\n\nand indirectly for mxModel by unconditionally dereferencing it).\n\ntdf#129056 showed that the xPropSet invariant does not hold, presumably due to a bug elsewhere (at least, that\u0027s how I interpret your \"I think that button needs to be disabled at that point.\" at \u003chttps://bugs.documentfoundation.org/show_bug.cgi?id\u003d129056#c3\u003e), but for some reason it is hotfixed here.\n\nBut that does not imply that stating the mxModel invariant was wrong.  Adding this \"defensive programming\" stuff here implies that the invariant was wrong (but without giving a proof, even), so future maintainers will assume that (a) mxModel can legitimately be null here, and (b) it is correct behavior for this function to not call setPropertyValue (which is also a problem of the xPropSet hotfix, of course), and draw misguided conclusions from that.  The semantics of the function have been changed from the precise and useful \"precondition: mxModel is non-null; setPropertyValue is called\" to the imprecise, close to useless \"setPropertyValue may be called\".  This does not only needlessly bloat the code (checking for something that is understood can never happen), it also makes it more brittle.",
      "parentUuid": "5f7c97a3_6656ce09",
      "revId": "e290c3f3e233f03a0b13d19553c637f0a7070fbf",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e50b61f6_382ca4a8",
        "filename": "chart2/source/controller/sidebar/ChartColorWrapper.cxx",
        "patchSetId": 2
      },
      "lineNbr": 75,
      "author": {
        "id": 1000045
      },
      "writtenOn": "2020-01-06T12:57:42Z",
      "side": 1,
      "message": "seen addressed with \u003chttps://gerrit.libreoffice.org/plugins/gitiles/core/+/8a3ed4d2835bf441c578d480a8cc8f2c31231996%5E!/\u003e \"Restore mxModel invariant in ChartColorWrapper::operator()\"",
      "parentUuid": "5f7c97a3_e6909e98",
      "revId": "e290c3f3e233f03a0b13d19553c637f0a7070fbf",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": false
    }
  ]
}