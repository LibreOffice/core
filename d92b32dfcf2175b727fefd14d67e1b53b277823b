{
  "comments": [
    {
      "key": {
        "uuid": "4e305593_fdaec1dc",
        "filename": "vcl/source/window/builder.cxx",
        "patchSetId": 1
      },
      "lineNbr": 4211,
      "author": {
        "id": 1000022
      },
      "writtenOn": "2021-02-01T11:44:14Z",
      "side": 1,
      "message": "there is a pitfall here - on 64-bit platforms, the signed 32-bit sal_Int32 will be first sign-extended to a signed 64-bit integer.\n\nbut declaring the variable as sal_IntPtr does the same, only it does it earlier, so it shouldn\u0027t be a problem in practice.",
      "revId": "d92b32dfcf2175b727fefd14d67e1b53b277823b",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cae349ad_0b91d53c",
        "filename": "vcl/source/window/builder.cxx",
        "patchSetId": 1
      },
      "lineNbr": 4211,
      "author": {
        "id": 1000045
      },
      "writtenOn": "2021-02-01T15:44:13Z",
      "side": 1,
      "message": "Reinterpret cast mappings between pointers and integers are implementation-defined (with only a round-tripping guarantee if a pointer is cast to a sufficiently large integer type and back).  Therefore, I would suggest explicitly sticking to the time-tested idiom of only casting between pointers and sal_[u]IntPtr (aka std::[u]intptr_t).",
      "parentUuid": "4e305593_fdaec1dc",
      "revId": "d92b32dfcf2175b727fefd14d67e1b53b277823b",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e291d2d9_b79efc4a",
        "filename": "vcl/source/window/builder.cxx",
        "patchSetId": 1
      },
      "lineNbr": 4211,
      "author": {
        "id": 1000022
      },
      "writtenOn": "2021-02-02T11:07:45Z",
      "side": 1,
      "message": "oh, hmm, okay, admittedly i didn\u0027t bother to look up how all of our compilers document this, i just tried it with gcc and it didn\u0027t make a difference...\n\nbut really, this code should be casting to sal_uInt32 first, to avoid the sign extension? and then to sal_[u]IntPtr",
      "parentUuid": "cae349ad_0b91d53c",
      "revId": "d92b32dfcf2175b727fefd14d67e1b53b277823b",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "27f4fcab_59fa4111",
        "filename": "vcl/source/window/builder.cxx",
        "patchSetId": 1
      },
      "lineNbr": 4211,
      "author": {
        "id": 1000045
      },
      "writtenOn": "2021-02-02T11:18:10Z",
      "side": 1,
      "message": "\u003e but really, this code should be casting to sal_uInt32 first, to avoid the sign extension? and then to sal_[u]IntPtr\n\nWhy?  Should there be any issue with sign extension?  I don\u0027t know where the other ends of these calls are, that take the data back out, but if the protocol is that the sal_Int32 data is transported as a sign-extended sal_IntPtr cast to void*, I see no problem with that protocol.",
      "parentUuid": "e291d2d9_b79efc4a",
      "revId": "d92b32dfcf2175b727fefd14d67e1b53b277823b",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": true
    }
  ]
}