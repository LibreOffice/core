{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "973dbb16_cb14dd49",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000030
      },
      "writtenOn": "2021-11-04T14:03:14Z",
      "side": 1,
      "message": "Something like this might fix the issue?",
      "revId": "08cd5d9906cf830e25fea8f0fa1f225b066b6943",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3dde2f15_7c0411c4",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000045
      },
      "writtenOn": "2021-11-04T14:18:59Z",
      "side": 1,
      "message": "doesn\u0027t seem to make (much of) a difference for my local ASan+UBSan build,\n  [_RUN_____] Test::testCellBroadcaster\n  warn:sc:1117654:1117654:sc/source/core/tool/addincol.cxx:283: Failed to initialize create instance of sheet.AddIn\n  warn:legacy.osl:1117654:1117654:sfx2/source/doc/objxtor.cxx:625: lcl_getBasicManagerForDocument: no Basic, but providing ourself as script container?\n  warn:sfx.doc:1117654:1117654:sfx2/source/doc/objxtor.cxx:743: SfxObjectShell::GetBasicContainer: falling back to the application - is this really expected here?\n  \u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\n  \u003d\u003d1117654\u003d\u003dERROR: AddressSanitizer: heap-use-after-free on address 0x6170000f1ef0 at pc 0x7f28ce6752ed bp 0x7ffe6b4ba120 sp 0x7ffe6b4ba118\n  READ of size 8 at 0x6170000f1ef0 thread T0\n   #0 in sc::CellStoreEvent::element_block_released(mdds::mtv::base_element_block const*) at sc/source/core/data/mtvelements.cxx:47:13 (workdir/LinkTarget/CppunitTest/libtest_sc_ucalc.so +0xdf742ec)\n   #1 in mdds::mtv::soa::multi_type_vector\u003cmdds::mtv::custom_block_func3\u003cmdds::mtv::default_element_block\u003c52, svl::SharedString\u003e, mdds::mtv::noncopyable_managed_element_block\u003c53, EditTextObject\u003e, mdds::mtv::noncopyable_managed_element_block\u003c54, ScFormulaCell\u003e \u003e, sc::CellStoreTrait\u003e::delete_element_block(unsigned long) at workdir/UnpackedTarball/mdds/include/mdds/multi_type_vector/soa/main_def.inl:403:17 (workdir/LinkTarget/CppunitTest/libtest_sc_ucalc.so +0xc1c438c)\n   #2 in mdds::mtv::soa::multi_type_vector\u003cmdds::mtv::custom_block_func3\u003cmdds::mtv::default_element_block\u003c52, svl::SharedString\u003e, mdds::mtv::noncopyable_managed_element_block\u003c53, EditTextObject\u003e, mdds::mtv::noncopyable_managed_element_block\u003c54, ScFormulaCell\u003e \u003e, sc::CellStoreTrait\u003e::delete_element_blocks(unsigned long, unsigned long) at workdir/UnpackedTarball/mdds/include/mdds/multi_type_vector/soa/main_def.inl:412:9 (workdir/LinkTarget/CppunitTest/libtest_sc_ucalc.so +0xc1c41bf)\n   #3 in mdds::mtv::soa::multi_type_vector\u003cmdds::mtv::custom_block_func3\u003cmdds::mtv::default_element_block\u003c52, svl::SharedString\u003e, mdds::mtv::noncopyable_managed_element_block\u003c53, EditTextObject\u003e, mdds::mtv::noncopyable_managed_element_block\u003c54, ScFormulaCell\u003e \u003e, sc::CellStoreTrait\u003e::clear() at workdir/UnpackedTarball/mdds/include/mdds/multi_type_vector/soa/main_def.inl:1088:5 (workdir/LinkTarget/CppunitTest/libtest_sc_ucalc.so +0xc1b155e)\n   #4 in ScColumn::FreeAll() at sc/source/core/data/column3.cxx:163:13 (workdir/LinkTarget/CppunitTest/libtest_sc_ucalc.so +0xcaed77b)\n   #5 in ScColumn::~ScColumn() at sc/source/core/data/column.cxx:97:5 (workdir/LinkTarget/CppunitTest/libtest_sc_ucalc.so +0xc7ded18)\n   #6 in o3tl::default_delete\u003cScColumn\u003e::operator()(ScColumn*) at include/o3tl/deleter.hxx:55:38 (workdir/LinkTarget/CppunitTest/libtest_sc_ucalc.so +0xc7d7e41)\n   #7 in std::__uniq_ptr_impl\u003cScColumn, o3tl::default_delete\u003cScColumn\u003e \u003e::reset(ScColumn*) at /home/sbergman/gcc/trunk/inst/lib/gcc/x86_64-pc-linux-gnu/12.0.0/../../../../include/c++/12.0.0/bits/unique_ptr.h:182:4 (workdir/LinkTarget/CppunitTest/libtest_sc_ucalc.so +0xc7ddf64)\n   #8 in std::unique_ptr\u003cScColumn, o3tl::default_delete\u003cScColumn\u003e \u003e::reset(ScColumn*) at /home/sbergman/gcc/trunk/inst/lib/gcc/x86_64-pc-linux-gnu/12.0.0/../../../../include/c++/12.0.0/bits/unique_ptr.h:460:7 (workdir/LinkTarget/CppunitTest/libtest_sc_ucalc.so +0xc7d669e)\n   #9 in ScColContainer::Clear() at sc/source/core/data/colcontainer.cxx:42:21 (workdir/LinkTarget/CppunitTest/libtest_sc_ucalc.so +0xc7d5b0b)\n   #10 in ScColContainer::~ScColContainer() at sc/source/core/data/colcontainer.cxx:33:5 (workdir/LinkTarget/CppunitTest/libtest_sc_ucalc.so +0xc7d5928)\n   #11 in ScTable::~ScTable() at sc/source/core/data/table1.cxx:344:1 (workdir/LinkTarget/CppunitTest/libtest_sc_ucalc.so +0xe1563dc)\n   #12 in o3tl::default_delete\u003cScTable\u003e::operator()(ScTable*) at include/o3tl/deleter.hxx:55:38 (workdir/LinkTarget/CppunitTest/libtest_sc_ucalc.so +0xcfb60c1)\n   #13 in std::unique_ptr\u003cScTable, o3tl::default_delete\u003cScTable\u003e \u003e::~unique_ptr() at /home/sbergman/gcc/trunk/inst/lib/gcc/x86_64-pc-linux-gnu/12.0.0/../../../../include/c++/12.0.0/bits/unique_ptr.h:365:4 (workdir/LinkTarget/CppunitTest/libtest_sc_ucalc.so +0xcf739fe)\n   #14 in void std::destroy_at\u003cstd::unique_ptr\u003cScTable, o3tl::default_delete\u003cScTable\u003e \u003e \u003e(std::unique_ptr\u003cScTable, o3tl::default_delete\u003cScTable\u003e \u003e*) at /home/sbergman/gcc/trunk/inst/lib/gcc/x86_64-pc-linux-gnu/12.0.0/../../../../include/c++/12.0.0/bits/stl_construct.h:88:15 (workdir/LinkTarget/CppunitTest/libtest_sc_ucalc.so +0xcf8cb60)\n   #15 in void std::_Destroy\u003cstd::unique_ptr\u003cScTable, o3tl::default_delete\u003cScTable\u003e \u003e \u003e(std::unique_ptr\u003cScTable, o3tl::default_delete\u003cScTable\u003e \u003e*) at /home/sbergman/gcc/trunk/inst/lib/gcc/x86_64-pc-linux-gnu/12.0.0/../../../../include/c++/12.0.0/bits/stl_construct.h:149:7 (workdir/LinkTarget/CppunitTest/libtest_sc_ucalc.so +0xcf8cadc)\n   #16 in void std::_Destroy_aux\u003cfalse\u003e::__destroy\u003cstd::unique_ptr\u003cScTable, o3tl::default_delete\u003cScTable\u003e \u003e*\u003e(std::unique_ptr\u003cScTable, o3tl::default_delete\u003cScTable\u003e \u003e*, std::unique_ptr\u003cScTable, o3tl::default_delete\u003cScTable\u003e \u003e*) at /home/sbergman/gcc/trunk/inst/lib/gcc/x86_64-pc-linux-gnu/12.0.0/../../../../include/c++/12.0.0/bits/stl_construct.h:163:6 (workdir/LinkTarget/CppunitTest/libtest_sc_ucalc.so +0xcf8ca5a)\n   #17 in void std::_Destroy\u003cstd::unique_ptr\u003cScTable, o3tl::default_delete\u003cScTable\u003e \u003e*\u003e(std::unique_ptr\u003cScTable, o3tl::default_delete\u003cScTable\u003e \u003e*, std::unique_ptr\u003cScTable, o3tl::default_delete\u003cScTable\u003e \u003e*) at /home/sbergman/gcc/trunk/inst/lib/gcc/x86_64-pc-linux-gnu/12.0.0/../../../../include/c++/12.0.0/bits/stl_construct.h:195:7 (workdir/LinkTarget/CppunitTest/libtest_sc_ucalc.so +0xcf8c9e4)\n   #18 in void std::_Destroy\u003cstd::unique_ptr\u003cScTable, o3tl::default_delete\u003cScTable\u003e \u003e*, std::unique_ptr\u003cScTable, o3tl::default_delete\u003cScTable\u003e \u003e \u003e(std::unique_ptr\u003cScTable, o3tl::default_delete\u003cScTable\u003e \u003e*, std::unique_ptr\u003cScTable, o3tl::default_delete\u003cScTable\u003e \u003e*, std::allocator\u003cstd::unique_ptr\u003cScTable, o3tl::default_delete\u003cScTable\u003e \u003e \u003e\u0026) at /home/sbergman/gcc/trunk/inst/lib/gcc/x86_64-pc-linux-gnu/12.0.0/../../../../include/c++/12.0.0/bits/alloc_traits.h:854:7 (workdir/LinkTarget/CppunitTest/libtest_sc_ucalc.so +0xcf8c678)\n   #19 in std::__cxx1998::vector\u003cstd::unique_ptr\u003cScTable, o3tl::default_delete\u003cScTable\u003e \u003e, std::allocator\u003cstd::unique_ptr\u003cScTable, o3tl::default_delete\u003cScTable\u003e \u003e \u003e \u003e::_M_erase_at_end(std::unique_ptr\u003cScTable, o3tl::default_delete\u003cScTable\u003e \u003e*) at /home/sbergman/gcc/trunk/inst/lib/gcc/x86_64-pc-linux-gnu/12.0.0/../../../../include/c++/12.0.0/bits/stl_vector.h:1819:6 (workdir/LinkTarget/CppunitTest/libtest_sc_ucalc.so +0xcfb9368)\n   #20 in std::__cxx1998::vector\u003cstd::unique_ptr\u003cScTable, o3tl::default_delete\u003cScTable\u003e \u003e, std::allocator\u003cstd::unique_ptr\u003cScTable, o3tl::default_delete\u003cScTable\u003e \u003e \u003e \u003e::clear() at /home/sbergman/gcc/trunk/inst/lib/gcc/x86_64-pc-linux-gnu/12.0.0/../../../../include/c++/12.0.0/bits/stl_vector.h:1522:9 (workdir/LinkTarget/CppunitTest/libtest_sc_ucalc.so +0xd1ae9a9)\n   #21 in std::__debug::vector\u003cstd::unique_ptr\u003cScTable, o3tl::default_delete\u003cScTable\u003e \u003e, std::allocator\u003cstd::unique_ptr\u003cScTable, o3tl::default_delete\u003cScTable\u003e \u003e \u003e \u003e::clear() at /home/sbergman/gcc/trunk/inst/lib/gcc/x86_64-pc-linux-gnu/12.0.0/../../../../include/c++/12.0.0/debug/vector:738:9 (workdir/LinkTarget/CppunitTest/libtest_sc_ucalc.so +0xd1ab30e)\n   #22 in ScDocument::Clear(bool) at sc/source/core/data/documen9.cxx:506:12 (workdir/LinkTarget/CppunitTest/libtest_sc_ucalc.so +0xd1a537b)\n   #23 in ScDocument::~ScDocument() at sc/source/core/data/documen2.cxx:363:5 (workdir/LinkTarget/CppunitTest/libtest_sc_ucalc.so +0xcf455a1)\n   #24 in ScDocShell::~ScDocShell() at sc/source/ui/docshell/docsh.cxx:2925:1 (workdir/LinkTarget/CppunitTest/libtest_sc_ucalc.so +0x10f365f1)\n   #25 in ScDocShell::~ScDocShell() at sc/source/ui/docshell/docsh.cxx:2894:1 (workdir/LinkTarget/CppunitTest/libtest_sc_ucalc.so +0x10f3678f)\n   #26 in ScDocShell::~ScDocShell() at sc/source/ui/docshell/docsh.cxx:2894:1 (workdir/LinkTarget/CppunitTest/libtest_sc_ucalc.so +0x10f36938)\n   #27 in SvRefBase::ReleaseRef() at include/tools/ref.hxx:163:29 (workdir/LinkTarget/CppunitTest/libtest_sc_ucalc.so +0xbf84111)\n   #28 in tools::SvRef\u003cScDocShell\u003e::clear() at include/tools/ref.hxx:64:22 (workdir/LinkTarget/CppunitTest/libtest_sc_ucalc.so +0xbf37ea3)\n   #29 in Test::closeDocShell(tools::SvRef\u003cScDocShell\u003e\u0026) at sc/qa/unit/ucalc.cxx:365:18 (workdir/LinkTarget/CppunitTest/libtest_sc_ucalc.so +0xbd3d36e)\n   #30 in Test::tearDown() at sc/qa/unit/ucalc.cxx:380:5 (workdir/LinkTarget/CppunitTest/libtest_sc_ucalc.so +0xbd3d9e4)\n   #31 in CppUnit::TestCaller\u003cTest\u003e::tearDown() at workdir/UnpackedTarball/cppunit/include/cppunit/TestCaller.h:185:15 (workdir/LinkTarget/CppunitTest/libtest_sc_ucalc.so +0xbfd5a89)\n   #32 in CppUnit::TestCaseMethodFunctor::operator()() const at workdir/UnpackedTarball/cppunit/src/cppunit/TestCase.cpp:32:5 (workdir/UnpackedTarball/cppunit/src/cppunit/.libs/libcppunit-1.15.so.1 +0x30b1fb)\n   #33 in (anonymous namespace)::Protector::protect(CppUnit::Functor const\u0026, CppUnit::ProtectorContext const\u0026) at test/source/vclbootstrapprotector.cxx:46:14 (workdir/LinkTarget/Library/libvclbootstrapprotector.so +0x2bb0)\n   #34 in CppUnit::ProtectorChain::ProtectFunctor::operator()() const at workdir/UnpackedTarball/cppunit/src/cppunit/ProtectorChain.cpp:20:25 (workdir/UnpackedTarball/cppunit/src/cppunit/.libs/libcppunit-1.15.so.1 +0x2da3cc)\n   #35 in (anonymous namespace)::Prot::protect(CppUnit::Functor const\u0026, CppUnit::ProtectorContext const\u0026) at unotest/source/cpp/unobootstrapprotector/unobootstrapprotector.cxx:78:12 (workdir/LinkTarget/Library/unobootstrapprotector.so +0x17120)\n   #36 in CppUnit::ProtectorChain::ProtectFunctor::operator()() const at workdir/UnpackedTarball/cppunit/src/cppunit/ProtectorChain.cpp:20:25 (workdir/UnpackedTarball/cppunit/src/cppunit/.libs/libcppunit-1.15.so.1 +0x2da3cc)\n   #37 in (anonymous namespace)::Prot::protect(CppUnit::Functor const\u0026, CppUnit::ProtectorContext const\u0026) at unotest/source/cpp/unoexceptionprotector/unoexceptionprotector.cxx:62:16 (workdir/LinkTarget/Library/unoexceptionprotector.so +0x9b08)\n   #38 in CppUnit::ProtectorChain::ProtectFunctor::operator()() const at workdir/UnpackedTarball/cppunit/src/cppunit/ProtectorChain.cpp:20:25 (workdir/UnpackedTarball/cppunit/src/cppunit/.libs/libcppunit-1.15.so.1 +0x2da3cc)\n   #39 in CppUnit::DefaultProtector::protect(CppUnit::Functor const\u0026, CppUnit::ProtectorContext const\u0026) at workdir/UnpackedTarball/cppunit/src/cppunit/DefaultProtector.cpp:15:12 (workdir/UnpackedTarball/cppunit/src/cppunit/.libs/libcppunit-1.15.so.1 +0x2638df)\n   #40 in CppUnit::ProtectorChain::ProtectFunctor::operator()() const at workdir/UnpackedTarball/cppunit/src/cppunit/ProtectorChain.cpp:20:25 (workdir/UnpackedTarball/cppunit/src/cppunit/.libs/libcppunit-1.15.so.1 +0x2da3cc)\n   #41 in CppUnit::ProtectorChain::protect(CppUnit::Functor const\u0026, CppUnit::ProtectorContext const\u0026) at workdir/UnpackedTarball/cppunit/src/cppunit/ProtectorChain.cpp:86:18 (workdir/UnpackedTarball/cppunit/src/cppunit/.libs/libcppunit-1.15.so.1 +0x2d3bc5)\n   #42 in CppUnit::TestResult::protect(CppUnit::Functor const\u0026, CppUnit::Test*, std::__cxx11::basic_string\u003cchar, std::char_traits\u003cchar\u003e, std::allocator\u003cchar\u003e \u003e const\u0026) at workdir/UnpackedTarball/cppunit/src/cppunit/TestResult.cpp:182:28 (workdir/UnpackedTarball/cppunit/src/cppunit/.libs/libcppunit-1.15.so.1 +0x37bb97)\n   #43 in CppUnit::TestCase::run(CppUnit::TestResult*) at workdir/UnpackedTarball/cppunit/src/cppunit/TestCase.cpp:95:11 (workdir/UnpackedTarball/cppunit/src/cppunit/.libs/libcppunit-1.15.so.1 +0x309e3c)\n   #44 in CppUnit::TestComposite::doRunChildTests(CppUnit::TestResult*) at workdir/UnpackedTarball/cppunit/src/cppunit/TestComposite.cpp:64:30 (workdir/UnpackedTarball/cppunit/src/cppunit/.libs/libcppunit-1.15.so.1 +0x30d591)\n   #45 in CppUnit::TestComposite::run(CppUnit::TestResult*) at workdir/UnpackedTarball/cppunit/src/cppunit/TestComposite.cpp:23:3 (workdir/UnpackedTarball/cppunit/src/cppunit/.libs/libcppunit-1.15.so.1 +0x30c7e8)\n   #46 in CppUnit::TestComposite::doRunChildTests(CppUnit::TestResult*) at workdir/UnpackedTarball/cppunit/src/cppunit/TestComposite.cpp:64:30 (workdir/UnpackedTarball/cppunit/src/cppunit/.libs/libcppunit-1.15.so.1 +0x30d591)\n   #47 in CppUnit::TestComposite::run(CppUnit::TestResult*) at workdir/UnpackedTarball/cppunit/src/cppunit/TestComposite.cpp:23:3 (workdir/UnpackedTarball/cppunit/src/cppunit/.libs/libcppunit-1.15.so.1 +0x30c7e8)\n   #48 in CppUnit::TestRunner::WrappingSuite::run(CppUnit::TestResult*) at workdir/UnpackedTarball/cppunit/src/cppunit/TestRunner.cpp:47:27 (workdir/UnpackedTarball/cppunit/src/cppunit/.libs/libcppunit-1.15.so.1 +0x3b1296)\n   #49 in CppUnit::TestResult::runTest(CppUnit::Test*) at workdir/UnpackedTarball/cppunit/src/cppunit/TestResult.cpp:149:9 (workdir/UnpackedTarball/cppunit/src/cppunit/.libs/libcppunit-1.15.so.1 +0x37a64e)\n   #50 in CppUnit::TestRunner::run(CppUnit::TestResult\u0026, std::__cxx11::basic_string\u003cchar, std::char_traits\u003cchar\u003e, std::allocator\u003cchar\u003e \u003e const\u0026) at workdir/UnpackedTarball/cppunit/src/cppunit/TestRunner.cpp:96:14 (workdir/UnpackedTarball/cppunit/src/cppunit/.libs/libcppunit-1.15.so.1 +0x3b215f)\n   #51 in (anonymous namespace)::ProtectedFixtureFunctor::run() const at sal/cppunittester/cppunittester.cxx:329:20 (workdir/LinkTarget/Executable/cppunittester +0x338e4b)\n   #52 in main2() at sal/cppunittester/cppunittester.cxx:478:16 (workdir/LinkTarget/Executable/cppunittester +0x335933)\n   #53 in sal_main() at sal/cppunittester/cppunittester.cxx:614:14 (workdir/LinkTarget/Executable/cppunittester +0x333df2)\n   #54 in main at sal/cppunittester/cppunittester.cxx:609:1 (workdir/LinkTarget/Executable/cppunittester +0x333c2e)\n   #55 in __libc_start_call_main at \u003cnull\u003e (/lib64/libc.so.6 +0x2d55f)\n   #56 in __libc_start_main@GLIBC_2.2.5 at \u003cnull\u003e (/lib64/libc.so.6 +0x2d60b)\n   #57 in _start at \u003cnull\u003e (workdir/LinkTarget/Executable/cppunittester +0x2782b4)",
      "revId": "08cd5d9906cf830e25fea8f0fa1f225b066b6943",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615"
    }
  ]
}