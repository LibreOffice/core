{
  "comments": [
    {
      "key": {
        "uuid": "ffe62b97_8f4c13c8",
        "filename": "comphelper/qa/string/test_string.cxx",
        "patchSetId": 2
      },
      "lineNbr": 337,
      "author": {
        "id": 1000045
      },
      "writtenOn": "2018-08-01T10:33:41Z",
      "side": 1,
      "message": "this test should be resurrected?",
      "revId": "ddd94ee1ac04fa1d5b2fefd58c36f0c8e70ee5a1",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ffe62b97_8fe1b39d",
        "filename": "sal/rtl/strtmpl.cxx",
        "patchSetId": 2
      },
      "lineNbr": 565,
      "author": {
        "id": 1000045
      },
      "writtenOn": "2018-08-01T10:33:41Z",
      "side": 1,
      "message": "The commented-out one was introduced with b0ef5cf258f3a84054c052f0a09a208dbc17fdf3 \"sal: add some argument checking assertions for strings and buffers\" with commit-message comment \"Some of these actually trigger on unit tests so are commented out.\"  I would argue that, instead of commenting it out (or introducing it with the g_sal_disable_string_asserts hack added), the corresponding unit tests should be fixed.  The contract of lastIndexOfStr_WithLength leaves both negative nStrLen and nSubLen unspecified, it should be OK to assert for both.",
      "revId": "ddd94ee1ac04fa1d5b2fefd58c36f0c8e70ee5a1",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ffe62b97_2feaa774",
        "filename": "sal/rtl/strtmpl.cxx",
        "patchSetId": 2
      },
      "lineNbr": 1250,
      "author": {
        "id": 1000045
      },
      "writtenOn": "2018-08-01T10:33:41Z",
      "side": 1,
      "message": "hm, \"For nLen \u003c 0 or failed allocation this method returns NULL.\"\n(and \"assert(nLen \u003e\u003d 0);\" followed by \"if ( nLen \u003c 0 )\" doesn\u0027t make sense)",
      "revId": "ddd94ee1ac04fa1d5b2fefd58c36f0c8e70ee5a1",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ffe62b97_ef76ffd8",
        "filename": "sal/rtl/strtmpl.cxx",
        "patchSetId": 2
      },
      "lineNbr": 1250,
      "author": {
        "id": 1000083
      },
      "writtenOn": "2018-08-01T10:57:18Z",
      "side": 1,
      "message": "This is one place where I would argue that we want to be stricter on ourselves than on external code.",
      "parentUuid": "ffe62b97_2feaa774",
      "revId": "ddd94ee1ac04fa1d5b2fefd58c36f0c8e70ee5a1",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ffe62b97_b21cde6a",
        "filename": "sal/rtl/strtmpl.cxx",
        "patchSetId": 2
      },
      "lineNbr": 1250,
      "author": {
        "id": 1000045
      },
      "writtenOn": "2018-08-01T11:46:51Z",
      "side": 1,
      "message": "On what grounds?  Note how 09123760860f99756d37b70557d83f707fda6b17 \"fdo#58473 - fix transliteration crasher caused by writing const string\" explicitly added nLen \u003c 0 to the contract there.",
      "parentUuid": "ffe62b97_ef76ffd8",
      "revId": "ddd94ee1ac04fa1d5b2fefd58c36f0c8e70ee5a1",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ffe62b97_9232faf0",
        "filename": "sal/rtl/strtmpl.cxx",
        "patchSetId": 2
      },
      "lineNbr": 1250,
      "author": {
        "id": 1000083
      },
      "writtenOn": "2018-08-01T11:52:56Z",
      "side": 1,
      "message": "It looks like 09123760860f99756d37b70557d83f707fda6b17 made it __easier__ to crash by returning a nullptr instead of a valid object. In which case this assert makes the problem even more obvious by failing at a useful location instead of later on in the control flow when we deref a null pointer.",
      "parentUuid": "ffe62b97_b21cde6a",
      "revId": "ddd94ee1ac04fa1d5b2fefd58c36f0c8e70ee5a1",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ffe62b97_92479a4c",
        "filename": "sal/rtl/strtmpl.cxx",
        "patchSetId": 2
      },
      "lineNbr": 1250,
      "author": {
        "id": 1000045
      },
      "writtenOn": "2018-08-01T12:10:22Z",
      "side": 1,
      "message": "Yeah, that might indeed be the (rather poor) rationale there.  Seeing these functions are only @since LibreOffice 4.1 (thus unlikely used widely in external code, if at all, and even less likely to rely on the---added even later with that 09123760860f99756d37b70557d83f707fda6b17---broad contract for negative nLen), it may be best to do an [API CHANGE] to a narrow contract and assert unconditionally.",
      "parentUuid": "ffe62b97_9232faf0",
      "revId": "ddd94ee1ac04fa1d5b2fefd58c36f0c8e70ee5a1",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ffe62b97_6ff0af68",
        "filename": "sal/rtl/strtmpl.cxx",
        "patchSetId": 2
      },
      "lineNbr": 1263,
      "author": {
        "id": 1000045
      },
      "writtenOn": "2018-08-01T10:33:41Z",
      "side": 1,
      "message": "see my previous comment (\"and for rtl_uString_new_WithLength, which doesn\u0027t explicitly mention negative nLen, I would argue that it is currently left unspecified what happens for negative nLen, and make that always assert (and fix any existing unit tests if need be; many of those string-related unit tests are actually poorly written, in that they test unspecified behavior)\")",
      "revId": "ddd94ee1ac04fa1d5b2fefd58c36f0c8e70ee5a1",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ffe62b97_2f9f4704",
        "filename": "sal/rtl/strtmpl.cxx",
        "patchSetId": 2
      },
      "lineNbr": 1549,
      "author": {
        "id": 1000045
      },
      "writtenOn": "2018-08-01T10:33:41Z",
      "side": 1,
      "message": "the checks for nIndex and nCount can be even tighter, according to the contract",
      "revId": "ddd94ee1ac04fa1d5b2fefd58c36f0c8e70ee5a1",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ffe62b97_4f9a8b14",
        "filename": "sal/rtl/strtmpl.cxx",
        "patchSetId": 2
      },
      "lineNbr": 1852,
      "author": {
        "id": 1000045
      },
      "writtenOn": "2018-08-01T10:33:41Z",
      "side": 1,
      "message": "why introduce a random empty line here?",
      "revId": "ddd94ee1ac04fa1d5b2fefd58c36f0c8e70ee5a1",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": false
    }
  ]
}