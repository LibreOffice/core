{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "3cdaddd9_9a421a86",
        "filename": "vcl/unx/generic/dtrans/X11_service.cxx",
        "patchSetId": 1
      },
      "lineNbr": 82,
      "author": {
        "id": 1000994
      },
      "writtenOn": "2022-01-06T15:06:24Z",
      "side": 1,
      "message": "IIUC the CnP you mention is these ImplCreate*Target code?\n\nThey seem to follow the pattern:\n\n    Reference\u003cXInitialization\u003e p \u003d AClass();\n    if (p \u0026\u0026 pSysEnv)\n        p-\u003einitialize(APluginSpecificSequence\u003cAny\u003e);\n    return p;\n\nso maybe just create two virtual functions returning AClass, and have a third virtual function returning APluginSpecificSequence\u003cAny\u003e?",
      "revId": "365d4c8bc7b0aacb6a134141a32d1514368b89b0",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "743cc11d_92593ab0",
        "filename": "vcl/unx/generic/dtrans/X11_service.cxx",
        "patchSetId": 1
      },
      "lineNbr": 82,
      "author": {
        "id": 1000562
      },
      "writtenOn": "2022-01-06T15:54:39Z",
      "side": 1,
      "message": "\u003e IIUC the CnP you mention is these ImplCreate*Target code?\n\nYup.\n\n\u003e They seem to follow the pattern:\n\u003e \n\u003e     Reference\u003cXInitialization\u003e p \u003d AClass();\n\u003e     if (p \u0026\u0026 pSysEnv)\n\u003e         p-\u003einitialize(APluginSpecificSequence\u003cAny\u003e);\n\u003e     return p;\n\u003e \n\u003e so maybe just create two virtual functions returning AClass, and have a third virtual function returning APluginSpecificSequence\u003cAny\u003e?\n\nAClass is normally plugin specific, that\u0027s why I originally thought to use a template function. The APluginSpecificSequence differs for some implementations (Win + MacOS) between DragSource and DropTarget. This then has four virtual functions for 4 lines of code; feels very much overkill and probably even harder to understand.\n\nThanks for the input anyway. Was hoping for some magic template stuff ;-) In the end we just have two interface variants (Win and X11), but the Any sequence differs. Or I\u0027m just over-engineering again.",
      "parentUuid": "3cdaddd9_9a421a86",
      "revId": "365d4c8bc7b0aacb6a134141a32d1514368b89b0",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615"
    }
  ]
}