{
  "comments": [
    {
      "key": {
        "uuid": "2f21c0b2_25ff3437",
        "filename": "fpicker/source/win32/VistaFilePickerImpl.cxx",
        "patchSetId": 2
      },
      "lineNbr": 1028,
      "author": {
        "id": 1000166
      },
      "writtenOn": "2021-02-23T10:33:28Z",
      "side": 1,
      "message": "will this cause any problems because the lock is held during the whole time the file dialog is open?",
      "range": {
        "startLine": 1028,
        "startChar": 8,
        "endLine": 1028,
        "endChar": 22
      },
      "revId": "abfcf18852b1d8c266fd4f3dccfbe6500ebfd5bf",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cfc4f27f_53203a67",
        "filename": "fpicker/source/win32/VistaFilePickerImpl.cxx",
        "patchSetId": 2
      },
      "lineNbr": 1028,
      "author": {
        "id": 1000994
      },
      "writtenOn": "2021-02-23T10:40:20Z",
      "side": 1,
      "message": "I\u0027d remove the resettable guard, and instead used normal guard in (new) scopes around the member access code, including this m_hParentWindow. I\u0027d also used a local hWnd, assigned in the guarded block, to use later in the Show() below outside of the guard.",
      "parentUuid": "2f21c0b2_25ff3437",
      "range": {
        "startLine": 1028,
        "startChar": 8,
        "endLine": 1028,
        "endChar": 22
      },
      "revId": "abfcf18852b1d8c266fd4f3dccfbe6500ebfd5bf",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f86cd63f_71eb0ee1",
        "filename": "fpicker/source/win32/VistaFilePickerImpl.cxx",
        "patchSetId": 2
      },
      "lineNbr": 1028,
      "author": {
        "id": 1000166
      },
      "writtenOn": "2021-02-23T10:44:12Z",
      "side": 1,
      "message": "Sadly that won\u0027t help with the problem.\nThe problem is *not* that the window handle changes.\n\nThe problem is that the window got destroyed after calling choose_parent_window, but before calling Show(). So the window handle pointed to a no longer existing window.",
      "parentUuid": "cfc4f27f_53203a67",
      "range": {
        "startLine": 1028,
        "startChar": 8,
        "endLine": 1028,
        "endChar": 22
      },
      "revId": "abfcf18852b1d8c266fd4f3dccfbe6500ebfd5bf",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c1914526_434c2271",
        "filename": "fpicker/source/win32/VistaFilePickerImpl.cxx",
        "patchSetId": 2
      },
      "lineNbr": 1043,
      "author": {
        "id": 1000994
      },
      "writtenOn": "2021-02-23T10:01:56Z",
      "side": 1,
      "message": "It seems that lock\u0027s reset/clear should be moved outside of the try block - to avoid clear being skipped in case of an exception.",
      "revId": "abfcf18852b1d8c266fd4f3dccfbe6500ebfd5bf",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e5794990_f3d4cd0e",
        "filename": "fpicker/source/win32/VistaFilePickerImpl.cxx",
        "patchSetId": 2
      },
      "lineNbr": 1043,
      "author": {
        "id": 1000166
      },
      "writtenOn": "2021-02-23T10:23:41Z",
      "side": 1,
      "message": "Ah right - although I wonder if the try/catch block is necessary at all.\nLooks like the Show() method does not throw any exceptions.\nhttps://docs.microsoft.com/en-us/windows/win32/api/shobjidl_core/nf-shobjidl_core-imodalwindow-show",
      "parentUuid": "c1914526_434c2271",
      "revId": "abfcf18852b1d8c266fd4f3dccfbe6500ebfd5bf",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ddae9d59_65aaf9ad",
        "filename": "fpicker/source/win32/VistaFilePickerImpl.cxx",
        "patchSetId": 2
      },
      "lineNbr": 1043,
      "author": {
        "id": 1000994
      },
      "writtenOn": "2021-02-23T10:37:17Z",
      "side": 1,
      "message": "I might be wrong, but (1) Show() is a virtual method, and some of its implementations might throw; and (2) an exception might arise from COM dispatch before the method is even called. So to be on the safe side, I\u0027d keep the try block.",
      "parentUuid": "e5794990_f3d4cd0e",
      "revId": "abfcf18852b1d8c266fd4f3dccfbe6500ebfd5bf",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "561efd32_7a1b2798",
        "filename": "fpicker/source/win32/VistaFilePickerImpl.cxx",
        "patchSetId": 2
      },
      "lineNbr": 1043,
      "author": {
        "id": 1000166
      },
      "writtenOn": "2021-02-23T10:44:12Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "ddae9d59_65aaf9ad",
      "revId": "abfcf18852b1d8c266fd4f3dccfbe6500ebfd5bf",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": false
    }
  ]
}