{
  "comments": [
    {
      "key": {
        "uuid": "7ff4ef17_84fbbbb7",
        "filename": "officecfg/registry/schema/org/openoffice/Office/Common.xcs",
        "patchSetId": 1
      },
      "lineNbr": 1622,
      "author": {
        "id": 1000045
      },
      "writtenOn": "2020-05-11T21:44:11Z",
      "side": 1,
      "message": "is it good to (mis-)use $(userurl) to locate something that happens to be located next to it, not underneath it?",
      "revId": "2e06925dd5a865d6d54962f0583e14683cdb0e4f",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "77b45967_5cd92e75",
        "filename": "officecfg/registry/schema/org/openoffice/Office/Common.xcs",
        "patchSetId": 1
      },
      "lineNbr": 1622,
      "author": {
        "id": 1000062
      },
      "writtenOn": "2020-05-12T05:55:33Z",
      "side": 1,
      "message": "Why not, isn\u0027t that what \"..\" is for? Or do you fear that\nmany people will have manipulated the directory structure\nso that \"user\" is a symlink?",
      "parentUuid": "7ff4ef17_84fbbbb7",
      "revId": "2e06925dd5a865d6d54962f0583e14683cdb0e4f",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "352e6d45_c2ac7611",
        "filename": "officecfg/registry/schema/org/openoffice/Office/Common.xcs",
        "patchSetId": 1
      },
      "lineNbr": 1622,
      "author": {
        "id": 1000045
      },
      "writtenOn": "2020-05-12T07:14:59Z",
      "side": 1,
      "message": "Where are these langpacks stored upon installation?  Are they guaranteed to be stored in the same place as is the expansion of \"$(userurl)/..\" here?  (Besides the directory symlink issue, there is fishy utl::Bootstrap::locateUserData, unotools/source/config/bootstrap.cxx, which is apparently used to determine the expansion of \"$(userurl)\", and which checks for a UserDataDir bootstrap var before falling back to the bootstrap-var--expanded \"$UserInstallation/user\".)  If the location where langpacks are installed shall be keyed off $UserInstallation, it might make more sense to ensure that vnd.sun.star.expand URLs are supported in this list, and then define the list item as vnd.sun.star.expand:$UserInstallation/packs/...",
      "parentUuid": "77b45967_5cd92e75",
      "revId": "2e06925dd5a865d6d54962f0583e14683cdb0e4f",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b0a732dd_0ef5c05a",
        "filename": "officecfg/registry/schema/org/openoffice/Office/Common.xcs",
        "patchSetId": 1
      },
      "lineNbr": 1622,
      "author": {
        "id": 1000062
      },
      "writtenOn": "2020-05-12T07:57:50Z",
      "side": 1,
      "message": "As the code to install them isn\u0027t written yet, it is rather irrelevant to ponder whether they are \"guaranteed\" to be stored where my plan is that they are stored. (I.e., on macOS, for LibreOffice 7.0, in ~/Library/Application Support/LibreOffice/4/packs/7.0) \n\nI naturally want to use existing functionality instead of adding stuff not directly related to the task at hand. If I would start \"improving\" \"fishy\" code that is somehow relatd whenever I see it this task would explode. And as the neighbouring lines here used the same $(userurl) it seemed natural to use that on the added line too. \"Use surrounding code conventions\" and all that.",
      "parentUuid": "352e6d45_c2ac7611",
      "revId": "2e06925dd5a865d6d54962f0583e14683cdb0e4f",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "69c8dc36_e4521c9f",
        "filename": "officecfg/registry/schema/org/openoffice/Office/Common.xcs",
        "patchSetId": 1
      },
      "lineNbr": 1622,
      "author": {
        "id": 1000045
      },
      "writtenOn": "2020-05-12T08:16:50Z",
      "side": 1,
      "message": "\u003e As the code to install them isn\u0027t written yet, it is rather irrelevant to ponder whether they are \"guaranteed\" to be stored where my plan is that they are stored. (I.e., on macOS, for LibreOffice 7.0, in ~/Library/Application Support/LibreOffice/4/packs/7.0) \n\nSo your plan is to store them at exactly that path, regardless of the value of the UserInstallation boostrap var?\n\nOf course it is relevant for this change what the plan is where those langpacks shall be stored, as this change apparently wants to reference locations within those langpacks.\n\n\u003e I naturally want to use existing functionality instead of adding stuff not directly related to the task at hand. If I would start \"improving\" \"fishy\" code that is somehow relatd whenever I see it this task would explode. And as the neighbouring lines here used the same $(userurl) it seemed natural to use that on the added line too. \"Use surrounding code conventions\" and all that.\n\nThis is not about improving fishy code unrelated to the change at hand, but rather about taking into account the implications of existing code (fishy or not) when implementing the change at hand.",
      "parentUuid": "b0a732dd_0ef5c05a",
      "revId": "2e06925dd5a865d6d54962f0583e14683cdb0e4f",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3ab33466_abc86206",
        "filename": "officecfg/registry/schema/org/openoffice/Office/Common.xcs",
        "patchSetId": 1
      },
      "lineNbr": 1622,
      "author": {
        "id": 1000062
      },
      "writtenOn": "2020-05-12T08:25:37Z",
      "side": 1,
      "message": "\u003e So your plan is to store them at exactly that path, regardless of the value of the UserInstallation boostrap var?\n\nYes. I tend to see the bootstrap \"variables\" as constants, that are \"variables\" in name only. Do you have some example of a real-world end-user installation where they are actually intentionally modified? Note that modifying botstraprc on macOS will break the integrity of a signed (notarized) app bundle. (But sure, I assume they can be overridden with command-line options, environment variables, and whatnot, in countless elegant and versatile ways.)\n\nAnd sure, if you can convince me that that is something that is actually done for some good reason, I could use something that depends only on $SYSUSERCONFIG instead.",
      "parentUuid": "69c8dc36_e4521c9f",
      "revId": "2e06925dd5a865d6d54962f0583e14683cdb0e4f",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e728438a_b10776e7",
        "filename": "officecfg/registry/schema/org/openoffice/Office/Common.xcs",
        "patchSetId": 1
      },
      "lineNbr": 1622,
      "author": {
        "id": 1000045
      },
      "writtenOn": "2020-05-12T09:18:04Z",
      "side": 1,
      "message": "UserInstallation is routinely overridden (e.g. via -env\u003d... on the soffice command line; no need to modify bootstraprc) in scenarios where multiple LO instances shall be run independently of each other for a single system user, e.g. during `make check`, or odk/examples/cpp/custompanel/, or, I assume, by third-party solutions running LO in the back end.\n\n(Where \"`make check`\" and \"$SYSUSERCONFIG\" bring up the question whether langpacks installed into the system should affect `make check`.)",
      "parentUuid": "3ab33466_abc86206",
      "revId": "2e06925dd5a865d6d54962f0583e14683cdb0e4f",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ae9c48a4_c5d4e5d8",
        "filename": "officecfg/registry/schema/org/openoffice/Office/Common.xcs",
        "patchSetId": 1
      },
      "lineNbr": 1622,
      "author": {
        "id": 1000062
      },
      "writtenOn": "2020-05-12T09:28:41Z",
      "side": 1,
      "message": "And those scenarios are relevant on macOS? For Linux, langpacks can still be installed as package management packages, into the installation folder, as now. I don\u0027t intend to force the use of this new location for all platforms.",
      "parentUuid": "e728438a_b10776e7",
      "revId": "2e06925dd5a865d6d54962f0583e14683cdb0e4f",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "26200dde_1fa6aafd",
        "filename": "officecfg/registry/schema/org/openoffice/Office/Common.xcs",
        "patchSetId": 1
      },
      "lineNbr": 1622,
      "author": {
        "id": 1000045
      },
      "writtenOn": "2020-05-12T09:34:04Z",
      "side": 1,
      "message": "At least my first two examples are apparently relevant for macOS.  And this change here is not platform-specific, anyway.",
      "parentUuid": "ae9c48a4_c5d4e5d8",
      "revId": "2e06925dd5a865d6d54962f0583e14683cdb0e4f",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "773730b8_a215558a",
        "filename": "officecfg/registry/schema/org/openoffice/Office/Common.xcs",
        "patchSetId": 1
      },
      "lineNbr": 1622,
      "author": {
        "id": 1000062
      },
      "writtenOn": "2020-05-12T09:59:16Z",
      "side": 1,
      "message": "Well, at least for \"make check\" my changes should have no impact as there is no \"packs\" directory in instdir, which is where $(userurl) points at that time, isn\u0027t it?\n\nDo you have any suggestion for some fundamentally different approach to solve the root issue? Packaging langpacks as extensions?",
      "parentUuid": "26200dde_1fa6aafd",
      "revId": "2e06925dd5a865d6d54962f0583e14683cdb0e4f",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0cc2ed99_4e20f613",
        "filename": "officecfg/registry/schema/org/openoffice/Office/Common.xcs",
        "patchSetId": 1
      },
      "lineNbr": 1622,
      "author": {
        "id": 1000045
      },
      "writtenOn": "2020-05-12T10:42:05Z",
      "side": 1,
      "message": "For the various `make check` tests, UserInstallation (and thus $(userurl), IIUC) points into the workdir.\n\nWhich leaves the question how --with-lang\u003d... builds should locate the langpacks when executing LO during the build (which is important for e.g. `make screenshot`, which creates localized screenshots, but should presumably also affect other tests).\n\nI don\u0027t have a better solution for the root issue.  I just think that to meaningfully discuss changes like this (like whether an entry based on $(userurl) or $UserInstallation or $SYSUSERCONFIG, or no entry at all, is the best choice here), it is important to have a clear plan where exactly such langpacks will be installed on each platform, and which LO invocations are meant to see them.",
      "parentUuid": "773730b8_a215558a",
      "revId": "2e06925dd5a865d6d54962f0583e14683cdb0e4f",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": true
    }
  ]
}