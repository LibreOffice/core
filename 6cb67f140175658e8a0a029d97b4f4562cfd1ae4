{
  "comments": [
    {
      "key": {
        "uuid": "ae10559a_b5eb8384",
        "filename": "bridges/source/cpp_uno/gcc3_linux_aarch64/cpp2uno.cxx",
        "patchSetId": 2
      },
      "lineNbr": 334,
      "author": {
        "id": 1000045
      },
      "writtenOn": "2020-06-18T07:15:21Z",
      "side": 1,
      "message": "What is the reason for this change?",
      "revId": "6cb67f140175658e8a0a029d97b4f4562cfd1ae4",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5977e133_581c016f",
        "filename": "bridges/source/cpp_uno/gcc3_linux_aarch64/cpp2uno.cxx",
        "patchSetId": 2
      },
      "lineNbr": 334,
      "author": {
        "id": 1002567
      },
      "writtenOn": "2020-06-18T08:28:43Z",
      "side": 1,
      "message": "register asm is a gcc\u0027ism and it\u0027s not supported by clang. It results in a crash on FreeBSD.\nThe asm should probably be:\n    asm volatile(\n        \"mov %0, x8\\n\"\n        \"mov %1, x9\\n\"\n        \"mov %2, x10\\n\"\n        : \"\u003dr\" (indirectRet), \"\u003dr\" (functionIndex), \"\u003dr\" (vtableOffset)\n        ::);",
      "parentUuid": "ae10559a_b5eb8384",
      "revId": "6cb67f140175658e8a0a029d97b4f4562cfd1ae4",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "07b96ef2_fcff7800",
        "filename": "bridges/source/cpp_uno/gcc3_linux_aarch64/cpp2uno.cxx",
        "patchSetId": 2
      },
      "lineNbr": 334,
      "author": {
        "id": 1000045
      },
      "writtenOn": "2020-06-18T08:53:59Z",
      "side": 1,
      "message": "\u003e register asm is a gcc\u0027ism and it\u0027s not supported by clang.\n\nClang should support that since \u003chttps://github.com/llvm/llvm-project/commit/c56f847a965ce547b82b1d4471b41d808f80cd4b\u003e \"Add support for declaring register contraints in variables [...]\" from 2010, probably available since Clang 2.9 (so clearly predating our Clang 5.0.2 baseline)?\n\n\u003e It results in a crash on FreeBSD.\n\nWhat kind of crash would that be?",
      "parentUuid": "5977e133_581c016f",
      "revId": "6cb67f140175658e8a0a029d97b4f4562cfd1ae4",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c9ea8d11_8aca55f6",
        "filename": "bridges/source/cpp_uno/gcc3_linux_aarch64/cpp2uno.cxx",
        "patchSetId": 2
      },
      "lineNbr": 334,
      "author": {
        "id": 1002567
      },
      "writtenOn": "2020-07-25T06:45:43Z",
      "side": 1,
      "message": "Here are the warnings printed by clang:\n\n/usr/ports/editors/libreoffice/work/libreoffice-6.4.4.2/bridges/source/cpp_uno/gcc3_linux_aarch64/cpp2uno.cxx:349:9: warning: variable \u0027functionIndex\u0027 is uninitialized when used here [-Wuninitialized]\n        functionIndex, vtableOffset, gpr,\n        ^~~~~~~~~~~~~\n/usr/ports/editors/libreoffice/work/libreoffice-6.4.4.2/bridges/source/cpp_uno/gcc3_linux_aarch64/cpp2uno.cxx:325:46: note: initialize the variable \u0027functionIndex\u0027 to silence this warning\n    register sal_Int32 volatile functionIndex asm (\"x9\");\n                                             ^\n                                              \u003d 0\n/usr/ports/editors/libreoffice/work/libreoffice-6.4.4.2/bridges/source/cpp_uno/gcc3_linux_aarch64/cpp2uno.cxx:349:24: warning: variable \u0027vtableOffset\u0027 is uninitialized when used here [-Wuninitialized]\n        functionIndex, vtableOffset, gpr,\n                       ^~~~~~~~~~~~\n/usr/ports/editors/libreoffice/work/libreoffice-6.4.4.2/bridges/source/cpp_uno/gcc3_linux_aarch64/cpp2uno.cxx:326:45: note: initialize the variable \u0027vtableOffset\u0027 to silence this warning\n    register sal_Int32 volatile vtableOffset asm (\"x10\");\n                                            ^\n                                             \u003d 0\n/usr/ports/editors/libreoffice/work/libreoffice-6.4.4.2/bridges/source/cpp_uno/gcc3_linux_aarch64/cpp2uno.cxx:353:9: warning: variable \u0027indirectRet\u0027 is uninitialized when used here [-Wuninitialized]\n        indirectRet);\n        ^~~~~~~~~~~\n/usr/ports/editors/libreoffice/work/libreoffice-6.4.4.2/bridges/source/cpp_uno/gcc3_linux_aarch64/cpp2uno.cxx:324:41: note: initialize the variable \u0027indirectRet\u0027 to silence this warning\n    register void * volatile indirectRet asm (\"x8\");\n                                        ^\n                                         \u003d nullptr\n\n\nThe crash:\n\nWork on gallery \u0027file:///usr/ports/editors/libreoffice/work/libreoffice-6.4.4.2/workdir/Gallery\n/computers\u0027                                                                                   \nExisting themes: 0                                                                                                                                                                           \nSegmentation fault (core dumped)\n\n\nthe backtrace:\n\n#0  0x000000004737fa98 in vtableCall () from /usr/ports/editors/libreoffice/work/libreoffice-6.4.4.2/instdir/program/libgcc3_uno.so\n#1  0x00000000473803bc in vtableSlotCall () from /usr/ports/editors/libreoffice/work/libreoffice-6.4.4.2/instdir/program/libgcc3_uno.so\n#2  0x00000000412f51d0 in cppu::throwException(com::sun::star::uno::Any const\u0026) () from /usr/ports/editors/libreoffice/work/libreoffice-6.4.4.2/instdir/program/libuno_cppuhelpergcc3.so.3\n#3  0x0000000043c13940 in ucbhelper::cancelCommandExecution(com::sun::star::ucb::IOErrorCode, com::sun::star::uno::Sequence\u003ccom::sun::star::uno::Any\u003e const\u0026, com::sun::star::uno::Reference\u003ccom::sun::star::ucb::XCommandEnvironment\u003e const\u0026, rtl::OUString const\u0026, com::sun::star::uno::Reference\u003ccom::sun::star::ucb::XCommandProcessor\u003e const\u0026) ()\n   from /usr/ports/editors/libreoffice/work/libreoffice-6.4.4.2/instdir/program/libucbhelper.so\n#4  0x00000000490cdf80 in fileaccess::throw_handler(int, int, com::sun::star::uno::Reference\u003ccom::sun::star::ucb::XCommandEnvironment\u003e const\u0026, rtl::OUString const\u0026, fileaccess::BaseContent*, bool) () from /usr/ports/editors/libreoffice/work/libreoffice-6.4.4.2/instdir/program/../program/libucpfile1.so\n#5  0x00000000490e7294 in fileaccess::TaskManager::endTask(int, rtl::OUString const\u0026, fileaccess::BaseContent*) ()\n   from /usr/ports/editors/libreoffice/work/libreoffice-6.4.4.2/instdir/program/../program/libucpfile1.so\n#6  0x00000000490c4490 in fileaccess::BaseContent::execute(com::sun::star::ucb::Command const\u0026, int, com::sun::star::uno::Reference\u003ccom::sun::star::ucb::XCommandEnvironment\u003e const\u0026) ()\n   from /usr/ports/editors/libreoffice/work/libreoffice-6.4.4.2/instdir/program/../program/libucpfile1.so\n#7  0x0000000043c03048 in ucbhelper::Content_Impl::executeCommand(com::sun::star::ucb::Command const\u0026) ()\n   from /usr/ports/editors/libreoffice/work/libreoffice-6.4.4.2/instdir/program/libucbhelper.so\n#8  0x0000000043c04424 in ucbhelper::Content::getPropertyValuesInterface(com::sun::star::uno::Sequence\u003crtl::OUString\u003e const\u0026) ()\n   from /usr/ports/editors/libreoffice/work/libreoffice-6.4.4.2/instdir/program/libucbhelper.so\n#9  0x0000000043c0350c in ucbhelper::Content::getPropertyValues(com::sun::star::uno::Sequence\u003crtl::OUString\u003e const\u0026) ()\n   from /usr/ports/editors/libreoffice/work/libreoffice-6.4.4.2/instdir/program/libucbhelper.so\n#10 0x0000000043c03344 in ucbhelper::Content::getPropertyValue(rtl::OUString const\u0026) () from /usr/ports/editors/libreoffice/work/libreoffice-6.4.4.2/instdir/program/libucbhelper.so\n#11 0x0000000042632530 in FileExists(INetURLObject const\u0026) () from /usr/ports/editors/libreoffice/work/libreoffice-6.4.4.2/instdir/program/libsvxcorelo.so\n#12 0x000000004262e5c4 in GalleryThemeEntry::ImplGetURLIgnoreCase(INetURLObject const\u0026) () from /usr/ports/editors/libreoffice/work/libreoffice-6.4.4.2/instdir/program/libsvxcorelo.so\n#13 0x000000004262de48 in GalleryThemeEntry::GalleryThemeEntry(bool, INetURLObject const\u0026, rtl::OUString const\u0026, bool, bool, unsigned int, bool) ()\n   from /usr/ports/editors/libreoffice/work/libreoffice-6.4.4.2/instdir/program/libsvxcorelo.so\n#14 0x0000000042630670 in Gallery::CreateTheme(rtl::OUString const\u0026) () from /usr/ports/editors/libreoffice/work/libreoffice-6.4.4.2/instdir/program/libsvxcorelo.so\n#15 0x00000000002153fc in GalApp::Main() ()\n#16 0x0000000041df79b8 in ImplSVMain() () from /usr/ports/editors/libreoffice/work/libreoffice-6.4.4.2/instdir/program/libvcllo.so\n#17 0x0000000000217dbc in main ()",
      "parentUuid": "07b96ef2_fcff7800",
      "revId": "6cb67f140175658e8a0a029d97b4f4562cfd1ae4",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a046d76f_85d77a65",
        "filename": "bridges/source/cpp_uno/gcc3_linux_aarch64/cpp2uno.cxx",
        "patchSetId": 2
      },
      "lineNbr": 334,
      "author": {
        "id": 1000045
      },
      "writtenOn": "2020-07-27T08:00:06Z",
      "side": 1,
      "message": "\u003e Here are the warnings printed by clang:\n\u003e \n\u003e /usr/ports/editors/libreoffice/work/libreoffice-6.4.4.2/bridges/source/cpp_uno/gcc3_linux_aarch64/cpp2uno.cxx:349:9: warning: variable \u0027functionIndex\u0027 is uninitialized when used here [-Wuninitialized]\n\u003e         functionIndex, vtableOffset, gpr,\n\u003e         ^~~~~~~~~~~~~\n\u003e /usr/ports/editors/libreoffice/work/libreoffice-6.4.4.2/bridges/source/cpp_uno/gcc3_linux_aarch64/cpp2uno.cxx:325:46: note: initialize the variable \u0027functionIndex\u0027 to silence this warning\n\u003e     register sal_Int32 volatile functionIndex asm (\"x9\");\n\u003e                                              ^\n\u003e                                               \u003d 0\n\u003e /usr/ports/editors/libreoffice/work/libreoffice-6.4.4.2/bridges/source/cpp_uno/gcc3_linux_aarch64/cpp2uno.cxx:349:24: warning: variable \u0027vtableOffset\u0027 is uninitialized when used here [-Wuninitialized]\n\u003e         functionIndex, vtableOffset, gpr,\n\u003e                        ^~~~~~~~~~~~\n\u003e /usr/ports/editors/libreoffice/work/libreoffice-6.4.4.2/bridges/source/cpp_uno/gcc3_linux_aarch64/cpp2uno.cxx:326:45: note: initialize the variable \u0027vtableOffset\u0027 to silence this warning\n\u003e     register sal_Int32 volatile vtableOffset asm (\"x10\");\n\u003e                                             ^\n\u003e                                              \u003d 0\n\u003e /usr/ports/editors/libreoffice/work/libreoffice-6.4.4.2/bridges/source/cpp_uno/gcc3_linux_aarch64/cpp2uno.cxx:353:9: warning: variable \u0027indirectRet\u0027 is uninitialized when used here [-Wuninitialized]\n\u003e         indirectRet);\n\u003e         ^~~~~~~~~~~\n\u003e /usr/ports/editors/libreoffice/work/libreoffice-6.4.4.2/bridges/source/cpp_uno/gcc3_linux_aarch64/cpp2uno.cxx:324:41: note: initialize the variable \u0027indirectRet\u0027 to silence this warning\n\u003e     register void * volatile indirectRet asm (\"x8\");\n\u003e                                         ^\n\u003e                                          \u003d nullptr\n\nDo you build with \u003chttps://git.libreoffice.org/core/+/23b384ee3b0ecde3e30dfd8c4fcb13aab9e65c04%5E!/\u003e \"Silence -Werror,-Wuninitialized\" included?  (Asking because your mention of \"libreoffice-6.4.4.2\" and the specific line numbers above make it look like you likely don\u0027t.)",
      "parentUuid": "c9ea8d11_8aca55f6",
      "revId": "6cb67f140175658e8a0a029d97b4f4562cfd1ae4",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1acf0ce2_4b23d89c",
        "filename": "bridges/source/cpp_uno/gcc3_linux_aarch64/cpp2uno.cxx",
        "patchSetId": 2
      },
      "lineNbr": 334,
      "author": {
        "id": 1000045
      },
      "writtenOn": "2020-07-27T12:28:24Z",
      "side": 1,
      "message": "\u003e The crash:\n\u003e \n\u003e Work on gallery \u0027file:///usr/ports/editors/libreoffice/work/libreoffice-6.4.4.2/workdir/Gallery\n\u003e /computers\u0027\n\u003e Existing themes: 0\n\u003e Segmentation fault (core dumped)\n\u003e \n\u003e the backtrace:\n\u003e \n\u003e #0  0x000000004737fa98 in vtableCall () from /usr/ports/editors/libreoffice/work/libreoffice-6.4.4.2/instdir/program/libgcc3_uno.so\n\u003e #1  0x00000000473803bc in vtableSlotCall () from /usr/ports/editors/libreoffice/work/libreoffice-6.4.4.2/instdir/program/libgcc3_uno.so\n\u003e #2  0x00000000412f51d0 in cppu::throwException(com::sun::star::uno::Any const\u0026) () from /usr/ports/editors/libreoffice/work/libreoffice-6.4.4.2/instdir/program/libuno_cppuhelpergcc3.so.3\n\u003e #3  0x0000000043c13940 in ucbhelper::cancelCommandExecution(com::sun::star::ucb::IOErrorCode, com::sun::star::uno::Sequence\u003ccom::sun::star::uno::Any\u003e const\u0026, com::sun::star::uno::Reference\u003ccom::sun::star::ucb::XCommandEnvironment\u003e const\u0026, rtl::OUString const\u0026, com::sun::star::uno::Reference\u003ccom::sun::star::ucb::XCommandProcessor\u003e const\u0026) ()\n\u003e    from /usr/ports/editors/libreoffice/work/libreoffice-6.4.4.2/instdir/program/libucbhelper.so\n\u003e #4  0x00000000490cdf80 in fileaccess::throw_handler(int, int, com::sun::star::uno::Reference\u003ccom::sun::star::ucb::XCommandEnvironment\u003e const\u0026, rtl::OUString const\u0026, fileaccess::BaseContent*, bool) () from /usr/ports/editors/libreoffice/work/libreoffice-6.4.4.2/instdir/program/../program/libucpfile1.so\n\u003e #5  0x00000000490e7294 in fileaccess::TaskManager::endTask(int, rtl::OUString const\u0026, fileaccess::BaseContent*) ()\n\u003e    from /usr/ports/editors/libreoffice/work/libreoffice-6.4.4.2/instdir/program/../program/libucpfile1.so\n\u003e #6  0x00000000490c4490 in fileaccess::BaseContent::execute(com::sun::star::ucb::Command const\u0026, int, com::sun::star::uno::Reference\u003ccom::sun::star::ucb::XCommandEnvironment\u003e const\u0026) ()\n\u003e    from /usr/ports/editors/libreoffice/work/libreoffice-6.4.4.2/instdir/program/../program/libucpfile1.so\n\u003e #7  0x0000000043c03048 in ucbhelper::Content_Impl::executeCommand(com::sun::star::ucb::Command const\u0026) ()\n\u003e    from /usr/ports/editors/libreoffice/work/libreoffice-6.4.4.2/instdir/program/libucbhelper.so\n\u003e #8  0x0000000043c04424 in ucbhelper::Content::getPropertyValuesInterface(com::sun::star::uno::Sequence\u003crtl::OUString\u003e const\u0026) ()\n\u003e    from /usr/ports/editors/libreoffice/work/libreoffice-6.4.4.2/instdir/program/libucbhelper.so\n\u003e #9  0x0000000043c0350c in ucbhelper::Content::getPropertyValues(com::sun::star::uno::Sequence\u003crtl::OUString\u003e const\u0026) ()\n\u003e    from /usr/ports/editors/libreoffice/work/libreoffice-6.4.4.2/instdir/program/libucbhelper.so\n\u003e #10 0x0000000043c03344 in ucbhelper::Content::getPropertyValue(rtl::OUString const\u0026) () from /usr/ports/editors/libreoffice/work/libreoffice-6.4.4.2/instdir/program/libucbhelper.so\n\u003e #11 0x0000000042632530 in FileExists(INetURLObject const\u0026) () from /usr/ports/editors/libreoffice/work/libreoffice-6.4.4.2/instdir/program/libsvxcorelo.so\n\u003e #12 0x000000004262e5c4 in GalleryThemeEntry::ImplGetURLIgnoreCase(INetURLObject const\u0026) () from /usr/ports/editors/libreoffice/work/libreoffice-6.4.4.2/instdir/program/libsvxcorelo.so\n\u003e #13 0x000000004262de48 in GalleryThemeEntry::GalleryThemeEntry(bool, INetURLObject const\u0026, rtl::OUString const\u0026, bool, bool, unsigned int, bool) ()\n\u003e    from /usr/ports/editors/libreoffice/work/libreoffice-6.4.4.2/instdir/program/libsvxcorelo.so\n\u003e #14 0x0000000042630670 in Gallery::CreateTheme(rtl::OUString const\u0026) () from /usr/ports/editors/libreoffice/work/libreoffice-6.4.4.2/instdir/program/libsvxcorelo.so\n\u003e #15 0x00000000002153fc in GalApp::Main() ()\n\u003e #16 0x0000000041df79b8 in ImplSVMain() () from /usr/ports/editors/libreoffice/work/libreoffice-6.4.4.2/instdir/program/libvcllo.so\n\u003e #17 0x0000000000217dbc in main ()\n\nExcellent find!  So it looks like Clang does not treat those register asm as we expect it would, at least on aarch64.\n\nWitness a local Linux recent master --with-distro\u003dLibreOfficeAndroidAarch64 build\u0027s\n\n  $ llvm-objdump --disassemble instdir/program/libgcc3_uno.a\n  [...]\n  0000000000000000 \u003cvtableSlotCall\u003e:\n         0: ff 43 03 d1   sub     sp, sp, #208\n         4: f4 4f 0b a9   stp     x20, x19, [sp, #176]\n         8: fd 7b 0c a9   stp     x29, x30, [sp, #192]\n         c: fd 03 03 91   add     x29, sp, #192\n        10: a8 43 00 91   add     x8, x29, #16\n        14: bf 83 1d f8   stur    xzr, [x29, #-40]\n        18: e0 07 04 a9   stp     x0, x1, [sp, #64]\n        1c: e2 0f 05 a9   stp     x2, x3, [sp, #80]\n        20: e4 17 06 a9   stp     x4, x5, [sp, #96]\n        24: e6 1f 07 a9   stp     x6, x7, [sp, #112]\n        28: e0 07 00 6d   stp     d0, d1, [sp]\n        2c: e2 0f 01 6d   stp     d2, d3, [sp, #16]\n        30: e4 17 02 6d   stp     d4, d5, [sp, #32]\n        34: e6 1f 03 6d   stp     d6, d7, [sp, #48]\n        38: a8 03 1c f8   stur    x8, [x29, #-64]\n        3c: a0 43 5e b8   ldur    w0, [x29, #-28]\n        40: a1 03 5e b8   ldur    w1, [x29, #-32]\n        44: a5 83 5e f8   ldur    x5, [x29, #-24]\n        48: e4 03 08 aa   mov     x4, x8\n        4c: e2 03 01 91   add     x2, sp, #64\n        50: e3 03 00 91   mov     x3, sp\n        54: f3 03 01 91   add     x19, sp, #64\n        58: f4 03 00 91   mov     x20, sp\n        5c: 00 00 00 94   bl      0x5c \u003cvtableSlotCall+0x5c\u003e\n        60: 60 06 40 a9   ldp     x0, x1, [x19]\n        64: 80 06 40 6d   ldp     d0, d1, [x20]\n        68: 82 0e 41 6d   ldp     d2, d3, [x20, #16]\n        6c: fd 7b 4c a9   ldp     x29, x30, [sp, #192]\n        70: f4 4f 4b a9   ldp     x20, x19, [sp, #176]\n        74: ff 43 03 91   add     sp, sp, #208\n        78: c0 03 5f d6   ret\n  [...]\n\nvs. e.g. a Flathub (done with GCC) build\u0027s (stripped)\n\n  $ llvm-objdump --disassemble .local/share/flatpak/app/org.libreoffice.LibreOffice/aarch64/stable/25603eb9920353ee1bdd1e5d602f28bbcf25f61ff7ef1b769cdee8cdd432c575/files/libreoffice/program/libgcc3_uno.so # but which is stripped\n  [...]\n      4b90: fd 7b b4 a9   stp     x29, x30, [sp, #-192]!\n      4b94: ee 03 00 aa   mov     x14, x0\n      4b98: ed 03 01 aa   mov     x13, x1\n      4b9c: ec 03 02 aa   mov     x12, x2\n      4ba0: eb 03 03 aa   mov     x11, x3\n      4ba4: e0 03 09 2a   mov     w0, w9\n      4ba8: e1 03 0a 2a   mov     w1, w10\n      4bac: e9 03 05 aa   mov     x9, x5\n      4bb0: ea 03 04 aa   mov     x10, x4\n      4bb4: fd 03 00 91   mov     x29, sp\n      4bb8: f3 53 01 a9   stp     x19, x20, [sp, #16]\n      4bbc: f4 03 02 91   add     x20, sp, #128\n      4bc0: f3 03 01 91   add     x19, sp, #64\n      4bc4: e4 03 03 91   add     x4, sp, #192\n      4bc8: e5 03 08 aa   mov     x5, x8\n      4bcc: e3 03 14 aa   mov     x3, x20\n      4bd0: e2 03 13 aa   mov     x2, x19\n      4bd4: e4 13 02 a9   stp     x4, x4, [sp, #32]\n      4bd8: e4 1b 00 f9   str     x4, [sp, #48]\n      4bdc: ff 7f 07 29   stp     wzr, wzr, [sp, #56]\n      4be0: ee 37 04 a9   stp     x14, x13, [sp, #64]\n      4be4: ec 2f 05 a9   stp     x12, x11, [sp, #80]\n      4be8: ea 27 06 a9   stp     x10, x9, [sp, #96]\n      4bec: e6 1f 07 a9   stp     x6, x7, [sp, #112]\n      4bf0: e0 07 08 6d   stp     d0, d1, [sp, #128]\n      4bf4: e2 0f 09 6d   stp     d2, d3, [sp, #144]\n      4bf8: e4 17 0a 6d   stp     d4, d5, [sp, #160]\n      4bfc: e6 1f 0b 6d   stp     d6, d7, [sp, #176]\n      4c00: 34 ff ff 97   bl      0x48d0 \u003c.text+0xab0\u003e\n      4c04: 60 06 40 a9   ldp     x0, x1, [x19]\n      4c08: 80 06 40 6d   ldp     d0, d1, [x20]\n      4c0c: 82 0e 41 6d   ldp     d2, d3, [x20, #16]\n      4c10: f3 53 41 a9   ldp     x19, x20, [sp, #16]\n      4c14: fd 7b cc a8   ldp     x29, x30, [sp], #192\n      4c18: c0 03 5f d6   ret\n  [...]\n\nAnd also latest Clang 12 trunk still does e.g.\n\n  $ cat test.c\n  void f(long);\n  void g() {\n      register long volatile a asm (\"x8\");\n      f(a);\n  }\n  $ clang --target\u003dunknown-linux-aarch64 -S -O2 test.c\n  $ cat test.s\n          .text\n          .file   \"test.c\"\n          .globl  g                               // -- Begin function g\n          .p2align        2\n          .type   g,@function\n  g:                                      // @g\n  // %bb.0:                               // %entry\n          sub     sp, sp, #16                     // \u003d16\n          ldr     x0, [sp, #8]\n          add     sp, sp, #16                     // \u003d16\n          b       f\n  .Lfunc_end0:\n          .size   g, .Lfunc_end0-g\n                                          // -- End function\n          .ident  \"clang version 12.0.0 (git@github.com:llvm/llvm-project eb31ddd71eb44d53ebe12a09c9587198bb6f2a2e)\"\n          .section        \".note.GNU-stack\",\"\",@progbits\n          .addrsig\n\n(This is probably also the underlying issue that \u003chttps://git.libreoffice.org/core/+/eb15ac837e06087fb8148330e9171d6697d89ee6%5E!/\u003e \"android: Avoid throwing exceptions through the bridges\" tries to hack arond.)\n\nI think it is time to replace vtableSlotCall with pure assembler code after all, which will also get rid of the \u003chttps://git.libreoffice.org/core/+/dddb527db1562f30a2a2b20338dfc8458086a4a9%5E!/\u003e \"Again, no -fstack-protector-strong for gcc3_linux_aarch64/cpp2uno.cxx\" hack.",
      "parentUuid": "a046d76f_85d77a65",
      "revId": "6cb67f140175658e8a0a029d97b4f4562cfd1ae4",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": true
    }
  ]
}