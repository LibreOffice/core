{
  "comments": [
    {
      "key": {
        "uuid": "ccfe47ba_21e4c7bf",
        "filename": "sc/source/filter/excel/xiescher.cxx",
        "patchSetId": 1
      },
      "lineNbr": 968,
      "author": {
        "id": 1001316
      },
      "writtenOn": "2021-04-12T19:16:24Z",
      "side": 1,
      "message": "Shouldn\u0027t this be \"nDataSize \u003c\u003d 0\", as this is not a boolean, but can be negative - see its decrement on line 964 above.",
      "range": {
        "startLine": 968,
        "startChar": 12,
        "endLine": 968,
        "endChar": 13
      },
      "revId": "3808c6fe2074cf16be9c0ee5681a18ce588c6a74",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "501d656a_163b2aaa",
        "filename": "sc/source/filter/excel/xiescher.cxx",
        "patchSetId": 1
      },
      "lineNbr": 968,
      "author": {
        "id": 1001316
      },
      "writtenOn": "2021-04-12T19:30:55Z",
      "side": 1,
      "message": "Actually, it shouldn\u0027t be negative, it is unsigned (sal_uInt32). But it could \"underflow\" to large unsigned values, unless checked before the decrement. So that it should probably be a defined as signed int? (In any case, \"\u003c\u003d\" may probably be semantically better than \"!\", as it the variable is not used with boolean semantics?)",
      "parentUuid": "ccfe47ba_21e4c7bf",
      "range": {
        "startLine": 968,
        "startChar": 12,
        "endLine": 968,
        "endChar": 13
      },
      "revId": "3808c6fe2074cf16be9c0ee5681a18ce588c6a74",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "39b3b589_cb8bf743",
        "filename": "sc/source/filter/excel/xiescher.cxx",
        "patchSetId": 1
      },
      "lineNbr": 968,
      "author": {
        "id": 1000135
      },
      "writtenOn": "2021-04-13T13:22:44Z",
      "side": 1,
      "message": "I don\u0027t want to change its type as I don\u0027t want to change the logic in this commit, just rearrange it. At which point its just stylistic if its !nDataSize or nDataSize \u003d\u003d 0",
      "parentUuid": "501d656a_163b2aaa",
      "range": {
        "startLine": 968,
        "startChar": 12,
        "endLine": 968,
        "endChar": 13
      },
      "revId": "3808c6fe2074cf16be9c0ee5681a18ce588c6a74",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "49c28dd3_18a41e81",
        "filename": "sc/source/filter/excel/xiescher.cxx",
        "patchSetId": 1
      },
      "lineNbr": 968,
      "author": {
        "id": 1001316
      },
      "writtenOn": "2021-04-13T21:38:56Z",
      "side": 1,
      "message": "You are right. But is it possible that this \"cid#1474366 Untrusted loop bound\" message is based on the unchecked decrement \"nDataSize -\u003d rStrm.GetRecLeft();\" at line 964, which should actually be like the one 975 (with ::std::min)?\n\nBecause, due to your lack of change of the logic, you might have just obfuscated the code enough for your code analyzer to no longer understand it, but the underlying issue may still be there. Or why should the code analyzer no longer trigger now, if the logic is exactly the same?",
      "parentUuid": "39b3b589_cb8bf743",
      "range": {
        "startLine": 968,
        "startChar": 12,
        "endLine": 968,
        "endChar": 13
      },
      "revId": "3808c6fe2074cf16be9c0ee5681a18ce588c6a74",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": true
    }
  ]
}