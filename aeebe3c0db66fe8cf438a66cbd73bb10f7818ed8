{
  "comments": [
    {
      "key": {
        "uuid": "79b32e36_bf8d7bda",
        "filename": "svl/source/items/itempool.cxx",
        "patchSetId": 4
      },
      "lineNbr": 584,
      "author": {
        "id": 1002869
      },
      "writtenOn": "2021-08-05T06:28:55Z",
      "side": 1,
      "message": "error message: /svl/source/items/itempool.cxx:580: virtual const SfxPoolItem\u0026 SfxItemPool::PutImpl(const SfxPoolItem\u0026, sal_uInt16, bool): Assertion `!pImpl-\u003empStaticDefaults || typeid(rItem) \u003d\u003d typeid(GetDefaultItem(nWhich))\u0027 failed.\n\nwhen commenting assert line: \n/svl/source/items/poolitem.cxx:488: virtual bool SfxPoolItem::operator\u003d\u003d(const SfxPoolItem\u0026) const: Assertion `typeid(rCmp) \u003d\u003d typeid(*this) \u0026\u0026 \"comparing different pool item subclasses\"\u0027 failed.\n\nand \n\nwarn:legacy.osl:16301:16301:sw/source/uibase/shells/tabsh.cxx:488: where is BoxItem?",
      "range": {
        "startLine": 584,
        "startChar": 12,
        "endLine": 584,
        "endChar": 59
      },
      "revId": "aeebe3c0db66fe8cf438a66cbd73bb10f7818ed8",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4ad1121f_a274b220",
        "filename": "svx/source/tbxctrls/tbcontrl.cxx",
        "patchSetId": 4
      },
      "lineNbr": 2228,
      "author": {
        "id": 1000994
      },
      "writtenOn": "2021-08-05T07:36:04Z",
      "side": 1,
      "message": "The suspicious thing is here, where you use SIDs, not RESs. I would suspect that SID_ATTR_BORDER_DIAG_TLBR is 106 or 107.",
      "revId": "aeebe3c0db66fe8cf438a66cbd73bb10f7818ed8",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f886ebf9_be6f030c",
        "filename": "svx/source/tbxctrls/tbcontrl.cxx",
        "patchSetId": 4
      },
      "lineNbr": 2228,
      "author": {
        "id": 1002869
      },
      "writtenOn": "2021-08-05T08:32:06Z",
      "side": 1,
      "message": "but, Calc and Writer should have SID_ATTR_BORDER_DIAG_TLBR in common, because this function is executed by both of them and it works well in Calc. If I change it to RES_* , I think it wouldn\u0027t work in Calc.",
      "parentUuid": "4ad1121f_a274b220",
      "revId": "aeebe3c0db66fe8cf438a66cbd73bb10f7818ed8",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "acc9db59_c8ef2b2d",
        "filename": "svx/source/tbxctrls/tbcontrl.cxx",
        "patchSetId": 4
      },
      "lineNbr": 2228,
      "author": {
        "id": 1000994
      },
      "writtenOn": "2021-08-05T08:39:10Z",
      "side": 1,
      "message": "Then you need to track (debug) how the SIT gets converted to real which id. Best is to debug how that happens in Calc (or simply grep for SID_ATTR_BORDER_DIAG_TLBR), and debug how a SvxLineItem/SvxBorderLine gets created with which ids of 106/107 (possibly), or how GetDefaultItem(SID_ATTR_BORDER_DIAG_TLBR) possibly internally converts SID_ATTR_BORDER_DIAG_TLBR to 106/107.",
      "parentUuid": "f886ebf9_be6f030c",
      "revId": "aeebe3c0db66fe8cf438a66cbd73bb10f7818ed8",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "db4c3469_b2db9b3c",
        "filename": "svx/source/tbxctrls/tbcontrl.cxx",
        "patchSetId": 4
      },
      "lineNbr": 2228,
      "author": {
        "id": 1002869
      },
      "writtenOn": "2021-08-05T13:01:02Z",
      "side": 1,
      "message": "calc:\nconstexpr TypedWhichId\u003cSvxLineItem\u003e ATTR_BORDER_TLBR (141);\nconstexpr TypedWhichId\u003cSvxBoxItem\u003e ATTR_BORDER (150);\n\nSelected Left border----------------------------------------------------------------------\u003e\ndebug:30859:30859: nWhich: 150 | rItem.Which(): 150\ndebug:30859:30859: typeid(rItem).name: 10SvxBoxItem\ndebug:30859:30859: typeid(GetDefaultItem(nWhich)).name(): 10SvxBoxItem\ndebug:30859:30859: (typeid(rItem) \u003d\u003d typeid(GetDefaultItem(nWhich))) \u003d 1\n\nSelected Diagonal left border--------------------------------------------------------------\u003e\ndebug:30859:30859: nWhich: 141 | rItem.Which(): 141\ndebug:30859:30859: typeid(rItem).name: 11SvxLineItem\ndebug:30859:30859: typeid(GetDefaultItem(nWhich)).name(): 11SvxLineItem\ndebug:30859:30859: (typeid(rItem) \u003d\u003d typeid(GetDefaultItem(nWhich))) \u003d 1\n\nLeft border: both returns SvxBoxItem as expected\n\nDiagonal Left Border: both returns SvxLineItem as expected\n\n-- \nWriter:\nconstexpr TypedWhichId\u003cSvxBoxItem\u003e RES_BOX(106);\nconstexpr TypedWhichId\u003cSvxShadowItem\u003e RES_SHADOW(107);\nconstexpr TypedWhichId\u003cSvxLineItem\u003e RES_BOX_TLBR (133);\n\nSelected Left border----------------------------------------------------------------------\u003e\ndebug:29093:29093: nWhich: 107 | rItem.Which(): 107\ndebug:29093:29093: typeid(rItem).name: 10SvxBoxItem\ndebug:29093:29093: typeid(GetDefaultItem(nWhich)).name(): 13SvxShadowItem\ndebug:29093:29093: 0\n\n\u003e returns SvxBoxItem for typeid(rItem)\n\u003e but returns SvxShadowItem for typeid(GetDefaultItem(nWhich))\nwhich evaluates 0 and terminate the LO\n\u003e both of them should return 106/SvxBoxItem, but returns 107.\n\nSelected Diagonal left border--------------------------------------------------------------\u003e\ndebug:29394:29394: nWhich: 106 | rItem.Which(): 106\ndebug:29394:29394: typeid(rItem).name: 11SvxLineItem\ndebug:29394:29394: typeid(GetDefaultItem(nWhich)).name(): 10SvxBoxItem\ndebug:29394:29394: 0\n\n\u003e returns SvxLineItem for typeid(rItem),\n\u003e but returns SvxBoxItem typeid(GetDefaultItem(nWhich))\n\u003e both of them should return 133/SvxLineItem, but returns 106\n\nWhat should I do to overcome these typeID issues? Any suggestions? Thanks.",
      "parentUuid": "acc9db59_c8ef2b2d",
      "revId": "aeebe3c0db66fe8cf438a66cbd73bb10f7818ed8",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "75ad4de1_45a21eb6",
        "filename": "sw/inc/hintids.hxx",
        "patchSetId": 4
      },
      "lineNbr": 368,
      "author": {
        "id": 1000994
      },
      "writtenOn": "2021-08-05T07:19:06Z",
      "side": 1,
      "message": "Where are the other RES_BORDER_* WhichIds defined?",
      "revId": "aeebe3c0db66fe8cf438a66cbd73bb10f7818ed8",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4652a1ad_564092f4",
        "filename": "sw/inc/hintids.hxx",
        "patchSetId": 4
      },
      "lineNbr": 368,
      "author": {
        "id": 1002869
      },
      "writtenOn": "2021-08-05T07:36:08Z",
      "side": 1,
      "message": "Actually there is only one here. I intended to add Diagonal Left border attribute(will add diagonal left later) as in Calc https://opengrok.libreoffice.org/xref/core/sc/inc/scitems.hxx?r\u003d19fa853c#147  (ATTR_BORDER_TLBR)\n\nShould I rename it to RES_BOX_TLBR ? because in Calc, ATTR_BORDER is equivalent to RES_BOX in Writer.",
      "parentUuid": "75ad4de1_45a21eb6",
      "revId": "aeebe3c0db66fe8cf438a66cbd73bb10f7818ed8",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "85909d9f_a7259949",
        "filename": "sw/source/uibase/shells/tabsh.cxx",
        "patchSetId": 4
      },
      "lineNbr": 576,
      "author": {
        "id": 1002869
      },
      "writtenOn": "2021-08-05T08:32:06Z",
      "side": 1,
      "message": "also I\u0027ll use RESs here after all implementations done.",
      "range": {
        "startLine": 576,
        "startChar": 62,
        "endLine": 576,
        "endChar": 77
      },
      "revId": "aeebe3c0db66fe8cf438a66cbd73bb10f7818ed8",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": true
    }
  ]
}