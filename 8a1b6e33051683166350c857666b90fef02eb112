{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "08ad273d_62718857",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1000994
      },
      "writtenOn": "2021-09-05T15:32:51Z",
      "side": 1,
      "message": "Thanks!\nLet\u0027s have Jenkins happy, and merge it :)",
      "revId": "8a1b6e33051683166350c857666b90fef02eb112",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ddf79f79_09afd2c5",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1000994
      },
      "writtenOn": "2021-09-05T16:11:49Z",
      "side": 1,
      "message": "FTR: licanse statement is at https://lists.freedesktop.org/archives/libreoffice/2021-September/087803.html",
      "revId": "8a1b6e33051683166350c857666b90fef02eb112",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d5c55a76_70e7170c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1000994
      },
      "writtenOn": "2021-09-05T18:48:25Z",
      "side": 1,
      "message": "\u003e clang plugin rangedforcopy did trigger. Loop variable passed by value, pass by reference instead\n\n",
      "revId": "8a1b6e33051683166350c857666b90fef02eb112",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bede0e92_4de449ac",
        "filename": "connectivity/source/drivers/firebird/Connection.cxx",
        "patchSetId": 4
      },
      "lineNbr": 241,
      "author": {
        "id": 1000994
      },
      "writtenOn": "2021-09-05T18:48:25Z",
      "side": 1,
      "message": "oh - I missed this; please use\n\n                for (const auto\u0026 rIter : info)\n\nthat\u0027s what the clang-plugin warning is about",
      "revId": "8a1b6e33051683166350c857666b90fef02eb112",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "df9d0df7_4091a30e",
        "filename": "connectivity/source/drivers/firebird/Connection.cxx",
        "patchSetId": 4
      },
      "lineNbr": 261,
      "author": {
        "id": 1000994
      },
      "writtenOn": "2021-09-05T15:36:27Z",
      "side": 1,
      "message": "By the way: do you know if we need to check some size limit here? Previously, userName (and userPassword) was limited to 256 characters, but now the length may in theory be 2Gi characters.",
      "revId": "8a1b6e33051683166350c857666b90fef02eb112",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bb91fea0_af82842f",
        "filename": "connectivity/source/drivers/firebird/Connection.cxx",
        "patchSetId": 4
      },
      "lineNbr": 261,
      "author": {
        "id": 1003336
      },
      "writtenOn": "2021-09-05T15:58:33Z",
      "side": 1,
      "message": "As far as I remember, the firebird documentation says that you can use passwords longer than 256 but that they are not taken into account beyond that number. I have no idea about user name.",
      "parentUuid": "df9d0df7_4091a30e",
      "revId": "8a1b6e33051683166350c857666b90fef02eb112",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9e5c12d6_67b4a096",
        "filename": "connectivity/source/drivers/firebird/Connection.cxx",
        "patchSetId": 4
      },
      "lineNbr": 261,
      "author": {
        "id": 1000994
      },
      "writtenOn": "2021-09-05T16:06:20Z",
      "side": 1,
      "message": "Then let FB handle it itself. We may create a follow-up if necessary, but it\u0027s best to not duplicate logic until needed.",
      "parentUuid": "bb91fea0_af82842f",
      "revId": "8a1b6e33051683166350c857666b90fef02eb112",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d8861281_c6ea64e9",
        "filename": "connectivity/source/drivers/firebird/Connection.cxx",
        "patchSetId": 4
      },
      "lineNbr": 261,
      "author": {
        "id": 1003336
      },
      "writtenOn": "2021-09-05T17:17:47Z",
      "side": 1,
      "message": "Sorry, the longest password is 256, but only 20 bytes are efective. So we should take this into account and do something to never send more than 256 bytes. Any suggestion?",
      "parentUuid": "9e5c12d6_67b4a096",
      "revId": "8a1b6e33051683166350c857666b90fef02eb112",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "79bcb56d_5446a89b",
        "filename": "connectivity/source/drivers/firebird/Connection.cxx",
        "patchSetId": 4
      },
      "lineNbr": 261,
      "author": {
        "id": 1000994
      },
      "writtenOn": "2021-09-05T18:48:25Z",
      "side": 1,
      "message": "Ah - yes; the string\u0027s push_back would append a char (even though we pass an int). So we must do that.\n\nJust use the append variant that takes a length and a pointer; and make sure to set nUsernameLength  to min of 256 and length.",
      "parentUuid": "d8861281_c6ea64e9",
      "revId": "8a1b6e33051683166350c857666b90fef02eb112",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5eead4ef_cf08a341",
        "filename": "connectivity/source/drivers/firebird/Connection.cxx",
        "patchSetId": 4
      },
      "lineNbr": 261,
      "author": {
        "id": 1003336
      },
      "writtenOn": "2021-09-06T16:41:20Z",
      "side": 1,
      "message": "I don\u0027t know what API we are using to connect to Firebird, but I have been looking around, and in the API that they call IBPP from the firebird page, the user class is defined as follows:\n\t/* Class User wraps all the information about a user that the engine can manage. */\n\n\tclass User\n\t{\n\tpublic:\n\t\tstd::string username;\n\t\tstd::string password;\n\t\tstd::string firstname;\n\t\tstd::string middlename;\n\t\tstd::string lastname;\n\t\tuint32_t userid;\t\t// Only relevant on unixes\n\t\tuint32_t groupid;\t\t// Only relevant on unixes\n\nThat is, both username and password are defined as strings, so, IMHO, we shouldn\u0027t worry about the size of our OString.\nI wait for your answer to see if I change something like you said in the previous message or just leave it as it is, without worrying about the size.",
      "parentUuid": "79bcb56d_5446a89b",
      "revId": "8a1b6e33051683166350c857666b90fef02eb112",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "29683e37_02adef9e",
        "filename": "connectivity/source/drivers/firebird/Connection.cxx",
        "patchSetId": 4
      },
      "lineNbr": 261,
      "author": {
        "id": 1000994
      },
      "writtenOn": "2021-09-06T20:56:43Z",
      "side": 1,
      "message": "The API they use internally doesn\u0027t matter. As it is obvious now:\n\n1. isc_create_database has a limit of 32KiB of the dpbBuffer.\n2. When putting a username and password to this dpbBuffer, the structure is 1 byte constant defining the type of the value (e.g., isc_dpb_user_name), then *1 byte len*, then bytes representing the value; hence the value *must* be limited to 256 characters max, or else it will get a garbage length, and try to read the next value after that garbage 1-byte len.",
      "parentUuid": "5eead4ef_cf08a341",
      "revId": "8a1b6e33051683166350c857666b90fef02eb112",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "06e7c502_64235e9b",
        "filename": "connectivity/source/drivers/firebird/Connection.cxx",
        "patchSetId": 4
      },
      "lineNbr": 261,
      "author": {
        "id": 1003336
      },
      "writtenOn": "2021-09-08T21:32:01Z",
      "side": 1,
      "message": "I\u0027ve added a limit to the length of the password. Added a limit lo the length of the username too.\nI had to modify the OString strings to be OUString, otherwise I couldn\u0027t get .append to work with the size parameter",
      "parentUuid": "29683e37_02adef9e",
      "revId": "8a1b6e33051683166350c857666b90fef02eb112",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5bba51bb_917893ca",
        "filename": "connectivity/source/drivers/firebird/Connection.cxx",
        "patchSetId": 4
      },
      "lineNbr": 261,
      "author": {
        "id": 1003336
      },
      "writtenOn": "2021-09-08T21:37:12Z",
      "side": 1,
      "message": "Oh, I forgot, I suppose that the sizes (31 and 256) that I have hard coded, should be consts, but I don\u0027t know how to name them and in which file they should be written",
      "parentUuid": "06e7c502_64235e9b",
      "revId": "8a1b6e33051683166350c857666b90fef02eb112",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c3d67e33_40aafdd4",
        "filename": "connectivity/source/drivers/firebird/Connection.cxx",
        "patchSetId": 4
      },
      "lineNbr": 261,
      "author": {
        "id": 1000994
      },
      "writtenOn": "2021-09-08T21:42:45Z",
      "side": 1,
      "message": "\u003e I had to modify the OString strings to be OUString, otherwise I couldn\u0027t get .append to work with the size parameter\n\nI don\u0027t get it. It should just work. You use OString in append anyway - that\u0027s what OUStringToOString returns.\n\nAdditionally, taking the length from OUString (UTF-16), and applying it to a UTF-8 string is conceptually wrong - their number of code units may differ.",
      "parentUuid": "06e7c502_64235e9b",
      "revId": "8a1b6e33051683166350c857666b90fef02eb112",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4b8b3ef1_5a6c8826",
        "filename": "connectivity/source/drivers/firebird/Connection.cxx",
        "patchSetId": 4
      },
      "lineNbr": 277,
      "author": {
        "id": 1000994
      },
      "writtenOn": "2021-09-06T20:56:43Z",
      "side": 1,
      "message": "\u003e I don\u0027t know what API we are using to connect to Firebird\n\nThis one",
      "range": {
        "startLine": 277,
        "startChar": 19,
        "endLine": 277,
        "endChar": 38
      },
      "revId": "8a1b6e33051683166350c857666b90fef02eb112",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615"
    }
  ]
}