diff -up postgresql/configure.dt postgresql/configure
--- postgresql/configure.dt	2016-11-03 17:34:17.282388226 +0100
+++ postgresql/configure	2016-11-03 17:34:35.004202484 +0100
@@ -8566,13 +8566,13 @@ fi
 
 if test "$with_zlib" = yes; then
 
-{ $as_echo "$as_me:$LINENO: checking for inflate in -lz" >&5
-$as_echo_n "checking for inflate in -lz... " >&6; }
+{ $as_echo "$as_me:$LINENO: checking for inflate in -lzlib" >&5
+$as_echo_n "checking for inflate in -lzlib... " >&6; }
 if test "${ac_cv_lib_z_inflate+set}" = set; then
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
-LIBS="-lz  $LIBS"
+LIBS="-lzlib  $LIBS"
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -8636,7 +8636,7 @@ if test "x$ac_cv_lib_z_inflate" = x""yes
 #define HAVE_LIBZ 1
 _ACEOF
 
-  LIBS="-lz $LIBS"
+  LIBS="-lzlib $LIBS"
 
 else
   { { $as_echo "$as_me:$LINENO: error: zlib library not found
