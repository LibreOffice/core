--- a/crypto/evp/Makefile
+++ b/crypto/evp/Makefile
@@ -289,7 +289,7 @@
 e_idea.o: ../../e_os.h ../../include/openssl/asn1.h ../../include/openssl/bio.h
 e_idea.o: ../../include/openssl/buffer.h ../../include/openssl/crypto.h
 e_idea.o: ../../include/openssl/e_os2.h ../../include/openssl/err.h
-e_idea.o: ../../include/openssl/evp.h ../../include/openssl/idea.h
+e_idea.o: ../../include/openssl/evp.h ../idea/idea.h
 e_idea.o: ../../include/openssl/lhash.h ../../include/openssl/obj_mac.h
 e_idea.o: ../../include/openssl/objects.h ../../include/openssl/opensslconf.h
 e_idea.o: ../../include/openssl/opensslv.h ../../include/openssl/ossl_typ.h
--- a/util/mklink.pl
+++ b/util/mklink.pl
@@ -50,8 +50,7 @@
 my $to = join('/', @to_path);
 
 my $file;
-$symlink_exists=eval {symlink("",""); 1};
-if ($^O eq "msys") { $symlink_exists=0 };
+$symlink_exists=0;
 foreach $file (@files) {
     my $err = "";
     if ($symlink_exists) {
