fix weird link failures on centos7:
pdfium/core/fpdfdoc/cpdf_formcontrol.cpp:134: undefined reference to `fxcrt::StringViewTemplate<char>::StringViewTemplate(char const&)'
--- pdfium/core/fxcrt/string_view_template.h.orig	2025-11-11 13:26:05.268265314 +0100
+++ pdfium/core/fxcrt/string_view_template.h	2025-11-11 13:26:36.836918076 +0100
@@ -73,7 +73,7 @@
   // Deliberately implicit to avoid calling on every char literal.
   // |ch| must be an lvalue that outlives the StringViewTemplate.
   // NOLINTNEXTLINE(runtime/explicit)
-  constexpr StringViewTemplate(const CharType& ch) noexcept
+  StringViewTemplate(const CharType& ch) noexcept
       : m_Span(
             reinterpret_span<const UnsignedType>(pdfium::span_from_ref(ch))) {}
 
--- pdfium/core/fxge/cfx_face.cpp.orig	2025-11-11 13:42:28.181052508 +0100
+++ pdfium/core/fxge/cfx_face.cpp	2025-11-11 13:45:12.583343976 +0100
@@ -227,7 +227,7 @@
     case fxge::FontEncoding::kBig5:
       return FT_ENCODING_BIG5;
     case fxge::FontEncoding::kGB2312:
-      return FT_ENCODING_PRC;
+      return FT_ENCODING_GB2312;
     case fxge::FontEncoding::kJohab:
       return FT_ENCODING_JOHAB;
     case fxge::FontEncoding::kLatin1:
@@ -259,7 +259,7 @@
       return fxge::FontEncoding::kAppleRoman;
     case FT_ENCODING_BIG5:
       return fxge::FontEncoding::kBig5;
-    case FT_ENCODING_PRC:
+    case FT_ENCODING_GB2312:
       return fxge::FontEncoding::kGB2312;
     case FT_ENCODING_JOHAB:
       return fxge::FontEncoding::kJohab;
--- pdfium/core/fdrm/fx_crypt_sha.cpp.orig	2025-11-11 17:53:34.095920155 +0100
+++ pdfium/core/fdrm/fx_crypt_sha.cpp	2025-11-11 17:55:25.689875991 +0100
@@ -271,7 +271,16 @@
     0,    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
 };
 
+#ifdef __GNUC__
+template <size_t N>
+constexpr std::array<uint64_t, N> ToArrayULL(const unsigned long long (&data)[N]) {
+  return fxcrt::ToArrayImpl<uint64_t>(data, std::make_index_sequence<N>());
+}
+
+constexpr auto constants = ToArrayULL({
+#else
 constexpr auto constants = fxcrt::ToArray<const uint64_t>({
+#endif
     0x428a2f98d728ae22ULL, 0x7137449123ef65cdULL, 0xb5c0fbcfec4d3b2fULL,
     0xe9b5dba58189dbbcULL, 0x3956c25bf348b538ULL, 0x59f111f1b605d019ULL,
     0x923f82a4af194f9bULL, 0xab1c5ed5da6d8118ULL, 0xd807aa98a3030242ULL,
--- pdfium/core/fpdfapi/parser/fpdf_parser_decode.cpp.orig	2025-11-11 18:07:41.549916141 +0100
+++ pdfium/core/fpdfapi/parser/fpdf_parser_decode.cpp	2025-11-11 18:08:01.711043241 +0100
@@ -449,7 +449,7 @@
       if (bImageAcc && i == nSize - 1) {
         result.image_encoding = "FlateDecode";
         result.image_params = std::move(pParam);
-        return result;
+        std::optional<PDFDataDecodeResult> ret; ret = std::move(result); return ret;
       }
       DataAndBytesConsumed decode_result = FlateOrLZWDecode(
           /*use_lzw=*/false, last_span, pParam, estimated_size);
@@ -472,7 +472,7 @@
       if (bImageAcc && i == nSize - 1) {
         result.image_encoding = "RunLengthDecode";
         result.image_params = std::move(pParam);
-        return result;
+        std::optional<PDFDataDecodeResult> ret; ret = std::move(result); return ret;
       }
       DataAndBytesConsumed decode_result = RunLengthDecode(last_span);
       new_buf = std::move(decode_result.data);
@@ -486,7 +486,7 @@
       }
       result.image_encoding = std::move(decoder);
       result.image_params = std::move(pParam);
-      return result;
+      std::optional<PDFDataDecodeResult> ret; ret = std::move(result); return ret;
     }
     if (bytes_consumed == FX_INVALID_OFFSET) {
       return std::nullopt;
@@ -498,7 +498,7 @@
 
   result.image_encoding.clear();
   result.image_params = nullptr;
-  return result;
+  std::optional<PDFDataDecodeResult> ret; ret = std::move(result); return ret;
 }
 
 static size_t StripLanguageCodes(pdfium::span<wchar_t> s, size_t n) {
--- pdfium/core/fxge/cfx_face.cpp.orig2	2025-11-11 18:44:37.469693380 +0100
+++ pdfium/core/fxge/cfx_face.cpp	2025-11-11 18:53:20.076562115 +0100
@@ -51,7 +51,7 @@
 // Boundary value to avoid integer overflow when adding 1/64th of the value.
 constexpr int kMaxRectTop = 2114445437;
 
-constexpr auto kWeightPow = fxcrt::ToArray<const uint8_t>({
+std::array<const uint8_t, 100> kWeightPow = {
     0,   6,   12,  14,  16,  18,  22,  24,  28,  30,  32,  34,  36,  38,  40,
     42,  44,  46,  48,  50,  52,  54,  56,  58,  60,  62,  64,  66,  68,  70,
     70,  72,  72,  74,  74,  74,  76,  76,  76,  78,  78,  78,  80,  80,  80,
@@ -59,18 +59,18 @@
     90,  90,  90,  92,  92,  92,  92,  94,  94,  94,  94,  96,  96,  96,  96,
     96,  98,  98,  98,  98,  100, 100, 100, 100, 100, 102, 102, 102, 102, 102,
     104, 104, 104, 104, 104, 106, 106, 106, 106, 106,
-});
+};
 
-constexpr auto kWeightPow11 = fxcrt::ToArray<const uint8_t>({
+std::array<const uint8_t, 100> kWeightPow11 = {
     0,  4,  7,  8,  9,  10, 12, 13, 15, 17, 18, 19, 20, 21, 22, 23, 24,
     25, 26, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 39, 39, 40, 40, 41,
     41, 41, 42, 42, 42, 43, 43, 43, 44, 44, 44, 45, 45, 45, 46, 46, 46,
     46, 43, 47, 47, 48, 48, 48, 48, 45, 50, 50, 50, 46, 51, 51, 51, 52,
     52, 52, 52, 53, 53, 53, 53, 53, 54, 54, 54, 54, 55, 55, 55, 55, 55,
     56, 56, 56, 56, 56, 57, 57, 57, 57, 57, 58, 58, 58, 58, 58,
-});
+};
 
-constexpr auto kWeightPowShiftJis = fxcrt::ToArray<const uint8_t>({
+std::array<const uint8_t, 100> kWeightPowShiftJis = {
     0,   0,   2,   4,   6,   8,   10,  14,  16,  20,  22,  26,  28,  32,  34,
     38,  42,  44,  48,  52,  56,  60,  64,  66,  70,  74,  78,  82,  86,  90,
     96,  96,  96,  96,  98,  98,  98,  100, 100, 100, 100, 102, 102, 102, 102,
@@ -78,7 +78,7 @@
     110, 110, 110, 110, 110, 112, 112, 112, 112, 112, 112, 114, 114, 114, 114,
     114, 114, 114, 116, 116, 116, 116, 116, 116, 116, 118, 118, 118, 118, 118,
     118, 118, 120, 120, 120, 120, 120, 120, 120, 120,
-});
+};
 
 constexpr size_t kWeightPowArraySize = 100;
 static_assert(kWeightPowArraySize == std::size(kWeightPow), "Wrong size");
@@ -86,10 +86,10 @@
 static_assert(kWeightPowArraySize == std::size(kWeightPowShiftJis),
               "Wrong size");
 
-constexpr auto kAngleSkew = fxcrt::ToArray<const int8_t>({
+std::array<const int8_t, 30> kAngleSkew = {
     -0,  -2,  -3,  -5,  -7,  -9,  -11, -12, -14, -16, -18, -19, -21, -23, -25,
     -27, -29, -31, -32, -34, -36, -38, -40, -42, -45, -47, -49, -51, -53, -55,
-});
+};
 
 // Returns negative values on failure.
 int GetWeightLevel(FX_Charset charset, size_t index) {
--- pdfium/core/fpdfapi/page/cpdf_colorspace.cpp.orig	2025-11-12 11:17:00.123332719 +0100
+++ pdfium/core/fpdfapi/page/cpdf_colorspace.cpp	2025-11-12 11:22:19.902936971 +0100
@@ -51,7 +51,7 @@
 
 namespace {
 
-constexpr auto kSRGBSamples1 = fxcrt::ToArray<const uint8_t>({
+std::array<const uint8_t, 192> kSRGBSamples1 = {
     0,   3,   6,   10,  13,  15,  18,  20,  22,  23,  25,  27,  28,  30,  31,
     32,  34,  35,  36,  37,  38,  39,  40,  41,  42,  43,  44,  45,  46,  47,
     48,  49,  49,  50,  51,  52,  53,  53,  54,  55,  56,  56,  57,  58,  58,
@@ -65,9 +65,9 @@
     107, 107, 108, 108, 108, 109, 109, 109, 110, 110, 110, 110, 111, 111, 111,
     112, 112, 112, 113, 113, 113, 114, 114, 114, 115, 115, 115, 115, 116, 116,
     116, 117, 117, 117, 118, 118, 118, 118, 119, 119, 119, 120,
-});
+};
 
-constexpr auto kSRGBSamples2 = fxcrt::ToArray<const uint8_t>({
+std::array<const uint8_t, 208> kSRGBSamples2 = {
     120, 121, 122, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135,
     136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 148, 149,
     150, 151, 152, 153, 154, 155, 155, 156, 157, 158, 159, 159, 160, 161, 162,
@@ -82,7 +82,7 @@
     236, 236, 237, 237, 238, 238, 238, 239, 239, 240, 240, 241, 241, 242, 242,
     243, 243, 244, 244, 245, 245, 246, 246, 246, 247, 247, 248, 248, 249, 249,
     250, 250, 251, 251, 251, 252, 252, 253, 253, 254, 254, 255, 255,
-});
+};
 
 constexpr size_t kBlackWhitePointCount = 3;
 
--- pdfium/core/fpdfdoc/cpdf_pagelabel.cpp.orig	2025-11-12 11:24:55.120659410 +0100
+++ pdfium/core/fpdfdoc/cpdf_pagelabel.cpp	2025-11-12 11:26:09.615649063 +0100
@@ -20,9 +20,9 @@
 WideString MakeRoman(int num) {
   static constexpr auto kArabic = fxcrt::ToArray<const int>(
       {1000, 900, 500, 400, 100, 90, 50, 40, 10, 9, 5, 4, 1});
-  const auto kRoman = fxcrt::ToArray<const WideStringView>(
+  std::array<const WideStringView, 13> kRoman =
       {L"m", L"cm", L"d", L"cd", L"c", L"xc", L"l", L"xl", L"x", L"ix", L"v",
-       L"iv", L"i"});
+       L"iv", L"i"};
   static constexpr int kMaxNum = 1000000;
 
   num %= kMaxNum;
--- pdfium/core/fpdfdoc/cpvt_variabletext.cpp.orig	2025-11-12 11:28:21.534664730 +0100
+++ pdfium/core/fpdfdoc/cpvt_variabletext.cpp	2025-11-12 11:27:51.960710697 +0100
@@ -26,9 +26,9 @@
 constexpr float kFontScale = 0.001f;
 constexpr uint8_t kReturnLength = 1;
 
-constexpr auto kFontSizeSteps = fxcrt::ToArray<const uint8_t>(
+std::array<const uint8_t, 25> kFontSizeSteps =
     {4,  6,  8,  9,  10, 12, 14, 18,  20,  25,  30,  35, 40,
-     45, 50, 55, 60, 70, 80, 90, 100, 110, 120, 130, 144});
+     45, 50, 55, 60, 70, 80, 90, 100, 110, 120, 130, 144};
 
 }  // namespace
 
--- pdfium/core/fpdfdoc/cpdf_generateap.cpp.orig	2025-11-12 12:02:45.057324704 +0100
+++ pdfium/core/fpdfdoc/cpdf_generateap.cpp	2025-11-12 12:03:45.923858903 +0100
@@ -824,8 +824,10 @@
     body_stream << "q\n" << button;
     WriteRect(body_stream, button_rect) << " re f\n";
     body_stream << "Q\n";
-    static const BorderStyleInfo kButtonBorderStyleInfo{
-        .width = 2, .style = BorderStyle::kBeveled, .dash_pattern{3, 0, 0}};
+    BorderStyleInfo kButtonBorderStyleInfo;
+    kButtonBorderStyleInfo.width = 2;
+    kButtonBorderStyleInfo.style = BorderStyle::kBeveled;
+    kButtonBorderStyleInfo.dash_pattern = {3, 0, 0};
     ByteString button_border =
         GenerateBorderAP(button_rect, kButtonBorderStyleInfo,
                          CFX_Color(CFX_Color::Type::kGray, 0));
