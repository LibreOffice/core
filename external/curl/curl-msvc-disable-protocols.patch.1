disable protocols nobody needs in MSVC build

--- curl/lib/config-win32.h.orig	2017-08-09 16:43:29.464000000 +0200
+++ curl/lib/config-win32.h	2017-08-09 16:47:38.549200000 +0200
@@ -509,4 +509,20 @@
 /* If you want to build curl with the built-in manual */
 #define USE_MANUAL 1
 
+#define CURL_DISABLE_DICT 1
+#define CURL_DISABLE_FILE 1
+#define CURL_DISABLE_FTP 1
+#define CURL_DISABLE_GOPHER 1
+#undef CURL_DISABLE_HTTP
+#define CURL_DISABLE_IMAP 1
+#define CURL_DISABLE_LDAP 1
+#define CURL_DISABLE_LDAPS 1
+#define CURL_DISABLE_MQTT 1
+#define CURL_DISABLE_POP3 1
+#define CURL_DISABLE_RTSP 1
+#define CURL_DISABLE_SMB 1
+#define CURL_DISABLE_SMTP 1
+#define CURL_DISABLE_TELNET 1
+#define CURL_DISABLE_TFTP 1
+
 #endif /* HEADER_CURL_CONFIG_WIN32_H */
--- curl/winbuild/MakefileBuild.vc.orig	2017-10-23 23:41:21.393200000 +0200
+++ curl/winbuild/MakefileBuild.vc	2017-10-23 23:34:16.028000000 +0200
@@ -562,7 +562,7 @@
 
 EXE_OBJS = $(CURL_OBJS) $(CURL_DIROBJ)\curl.res
 
-all : $(TARGET) $(PROGRAM_NAME)
+all : $(TARGET)
 
 package: $(TARGET)
 	@cd $(DIRDIST)
