https://bugs.chromium.org/p/skia/issues/detail?id=9550

diff --git a/src/core/SkString.cpp b/src/core/SkString.cpp
index d42ee6f07e..1e3ebddf95 100644
--- a/src/core/SkString.cpp
+++ b/src/core/SkString.cpp
@@ -502,11 +502,15 @@ void SkString::appendf(const char format[], ...) {
 }
 
 void SkString::appendVAList(const char format[], va_list args) {
+    char* oldlocale = strdup( setlocale( LC_NUMERIC, nullptr ));
+    setlocale( LC_NUMERIC, "C" );
     char buffer[kBufferSize];
     int length = vsnprintf(buffer, kBufferSize, format, args);
     SkASSERT(length >= 0 && length < SkToInt(kBufferSize));
 
     this->append(buffer, length);
+    setlocale( LC_NUMERIC, oldlocale );
+    free( oldlocale );
 }
 
 void SkString::prependf(const char format[], ...) {
@@ -519,11 +523,15 @@ void SkString::prependf(const char format[], ...) {
 }
 
 void SkString::prependVAList(const char format[], va_list args) {
+    char* oldlocale = strdup( setlocale( LC_NUMERIC, nullptr ));
+    setlocale( LC_NUMERIC, "C" );
     char buffer[kBufferSize];
     int length = vsnprintf(buffer, kBufferSize, format, args);
     SkASSERT(length >= 0 && length < SkToInt(kBufferSize));
 
     this->prepend(buffer, length);
+    setlocale( LC_NUMERIC, oldlocale );
+    free( oldlocale );
 }
 
 
diff --git a/src/sksl/SkSLOutputStream.cpp b/src/sksl/SkSLOutputStream.cpp
index f72637d4cb..6e31e8f302 100644
--- a/src/sksl/SkSLOutputStream.cpp
+++ b/src/sksl/SkSLOutputStream.cpp
@@ -21,10 +21,14 @@ void OutputStream::printf(const char format[], ...) {
 }
 
 void OutputStream::appendVAList(const char format[], va_list args) {
+    char* oldlocale = strdup( setlocale( LC_NUMERIC, nullptr ));
+    setlocale( LC_NUMERIC, "C" );
     char buffer[kBufferSize];
     int length = vsnprintf(buffer, kBufferSize, format, args);
     SkASSERT(length >= 0 && length < (int) kBufferSize);
     this->write(buffer, length);
+    setlocale( LC_NUMERIC, oldlocale );
+    free( oldlocale );
 }
 
 }
