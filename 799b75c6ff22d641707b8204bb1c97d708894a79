{
  "comments": [
    {
      "key": {
        "uuid": "97202ba9_a0d79b4a",
        "filename": "vcl/qt5/Qt5Frame.cxx",
        "patchSetId": 16
      },
      "lineNbr": 353,
      "author": {
        "id": 1000562
      },
      "writtenOn": "2020-02-29T20:35:11Z",
      "side": 1,
      "message": "There is something still missing, or it\u0027s a bug. See https://doc.qt.io/qt-5/qguiapplication.html#devicePixelRatio, which explicitly mentions to use QWindowâ€¦",
      "revId": "799b75c6ff22d641707b8204bb1c97d708894a79",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a4a57d92_636cc839",
        "filename": "vcl/qt5/Qt5Frame.cxx",
        "patchSetId": 16
      },
      "lineNbr": 353,
      "author": {
        "id": 1000562
      },
      "writtenOn": "2020-02-29T22:41:37Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "97202ba9_a0d79b4a",
      "revId": "799b75c6ff22d641707b8204bb1c97d708894a79",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "24403058_4b17cea7",
        "filename": "vcl/qt5/Qt5Frame.cxx",
        "patchSetId": 16
      },
      "lineNbr": 353,
      "author": {
        "id": 1000562
      },
      "writtenOn": "2020-03-02T09:50:03Z",
      "side": 1,
      "message": "I\u0027m not sure why there even is the devicePixelRatio function, which returns an int. But what is needed here is the devicePixelRatio_F_ function. Now I don\u0027t know, why the qApp-\u003edevicePixelRatio() OTOH returns a qreal. That was quite puzzling.",
      "parentUuid": "a4a57d92_636cc839",
      "revId": "799b75c6ff22d641707b8204bb1c97d708894a79",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e6812138_1c96f82e",
        "filename": "vcl/qt5/Qt5Graphics_Controls.cxx",
        "patchSetId": 16
      },
      "lineNbr": 66,
      "author": {
        "id": 1002335
      },
      "writtenOn": "2020-02-29T20:16:10Z",
      "side": 1,
      "message": "I was a bit paranoid here, thinking that Qt may return a null device ratio, crashing LO when used as a divisor. If we assume this never happens, I\u0027d remove this, otherwise I\u0027d probably set 1 as the ratio and we should do this everywhere. What do you think?",
      "revId": "799b75c6ff22d641707b8204bb1c97d708894a79",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f7342c3c_e97546b8",
        "filename": "vcl/qt5/Qt5Graphics_Controls.cxx",
        "patchSetId": 16
      },
      "lineNbr": 66,
      "author": {
        "id": 1000562
      },
      "writtenOn": "2020-02-29T20:35:11Z",
      "side": 1,
      "message": "If this somehow returns 0, I guess we\u0027ll have way more problems then the eventually divide by 0. I wanted to implement the forwarding of the scale factor from the frame. I actually tried to use the QWindow::devicePxelRatio, but somehow that reported 1 for me - see my other comment.",
      "parentUuid": "e6812138_1c96f82e",
      "revId": "799b75c6ff22d641707b8204bb1c97d708894a79",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "25b17a70_b722963d",
        "filename": "vcl/qt5/Qt5Graphics_Controls.cxx",
        "patchSetId": 16
      },
      "lineNbr": 66,
      "author": {
        "id": 1000562
      },
      "writtenOn": "2020-02-29T22:41:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f7342c3c_e97546b8",
      "revId": "799b75c6ff22d641707b8204bb1c97d708894a79",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7be12276_b94a84c1",
        "filename": "vcl/qt5/Qt5Instance.cxx",
        "patchSetId": 16
      },
      "lineNbr": 606,
      "author": {
        "id": 1002335
      },
      "writtenOn": "2020-02-29T20:10:57Z",
      "side": 1,
      "message": "I see you removed here the attribute Qt::AA_UseHighDpiPixmaps. Is there a particular reason? That is needed if you want QIcon to generate pixmaps of the proper size, getting icons in menu properly scaled.",
      "revId": "799b75c6ff22d641707b8204bb1c97d708894a79",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8997f4cf_19c9d0c9",
        "filename": "vcl/qt5/Qt5Instance.cxx",
        "patchSetId": 16
      },
      "lineNbr": 606,
      "author": {
        "id": 1000562
      },
      "writtenOn": "2020-02-29T20:16:42Z",
      "side": 1,
      "message": "No - I\u0027m still trying to understand, when it\u0027s actually needed. I didn\u0027t yet see a difference, but maybe I\u0027m missing something. Was there a particular reason you enabled this? Was it needed for the 2nd approach?",
      "parentUuid": "7be12276_b94a84c1",
      "revId": "799b75c6ff22d641707b8204bb1c97d708894a79",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "07bf7079_9235b4f9",
        "filename": "vcl/qt5/Qt5Instance.cxx",
        "patchSetId": 16
      },
      "lineNbr": 606,
      "author": {
        "id": 1002335
      },
      "writtenOn": "2020-02-29T20:24:11Z",
      "side": 1,
      "message": "If you read the Qt docs you see it is related to QIcon. I can\u0027t point you to the proper point in LO code, some weeks passed since I followed the path, maybe in Qt5Menu. I added it to make it render icons with the proper scaled size. Look at the icons in menus: if you don\u0027t add this, they are scaled after render.",
      "parentUuid": "8997f4cf_19c9d0c9",
      "revId": "799b75c6ff22d641707b8204bb1c97d708894a79",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6d79e2b1_453e5cd9",
        "filename": "vcl/qt5/Qt5Instance.cxx",
        "patchSetId": 16
      },
      "lineNbr": 606,
      "author": {
        "id": 1000562
      },
      "writtenOn": "2020-02-29T20:35:11Z",
      "side": 1,
      "message": "Makes sense. I\u0027ll check locally and the update the patch.",
      "parentUuid": "07bf7079_9235b4f9",
      "revId": "799b75c6ff22d641707b8204bb1c97d708894a79",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dba08a50_0474e602",
        "filename": "vcl/qt5/Qt5Instance.cxx",
        "patchSetId": 16
      },
      "lineNbr": 606,
      "author": {
        "id": 1000562
      },
      "writtenOn": "2020-02-29T22:41:37Z",
      "side": 1,
      "message": "Strange - I don\u0027t see a difference. Maybe it\u0027s just visible in higher scaling. Anyway, since you can see this, I have added it again.",
      "parentUuid": "6d79e2b1_453e5cd9",
      "revId": "799b75c6ff22d641707b8204bb1c97d708894a79",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": false
    }
  ]
}