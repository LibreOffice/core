{
  "comments": [
    {
      "key": {
        "uuid": "faac7902_6c039710",
        "filename": "external/neon/UnpackedTarball_neon.mk",
        "patchSetId": 2
      },
      "lineNbr": 20,
      "author": {
        "id": 1000045
      },
      "writtenOn": "2015-11-10T14:40:30Z",
      "side": 1,
      "message": "there can be multiple gb_UnpackedTarball_add_patches calls, so better only wrap the additonal external/neon/neon_fix_lock_timeout_windows.patch in an ifeq",
      "revId": "492bc6cb0a7195e9f68011dc4a6c5d8de7357fe7",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "faac7902_a7863863",
        "filename": "external/neon/UnpackedTarball_neon.mk",
        "patchSetId": 2
      },
      "lineNbr": 20,
      "author": {
        "id": 1001050
      },
      "writtenOn": "2015-11-10T16:33:24Z",
      "side": 1,
      "message": "Will change this.",
      "parentUuid": "faac7902_6c039710",
      "revId": "492bc6cb0a7195e9f68011dc4a6c5d8de7357fe7",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "faac7902_2c098f32",
        "filename": "external/neon/neon_fix_lock_timeout_windows.patch",
        "patchSetId": 2
      },
      "lineNbr": 17,
      "author": {
        "id": 1000045
      },
      "writtenOn": "2015-11-10T14:40:30Z",
      "side": 1,
      "message": "the original code apparently used\n\n  if (to \u003d\u003d LONG_MIN || to \u003d\u003d LONG_MAX)\n      return NE_TIMEOUT_INVALID;\n\nto check for strtol returning an indicator that \"the correct value is outside the range of representable values,\" so when using strtoul instead you should instead check for\n\n  if (to \u003d\u003d ULONG_MAX)\n      return NE_TIMEOUT_INVALID;",
      "revId": "492bc6cb0a7195e9f68011dc4a6c5d8de7357fe7",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "faac7902_27ac08ed",
        "filename": "external/neon/neon_fix_lock_timeout_windows.patch",
        "patchSetId": 2
      },
      "lineNbr": 17,
      "author": {
        "id": 1001050
      },
      "writtenOn": "2015-11-10T16:33:24Z",
      "side": 1,
      "message": "ULONG_MAX (4294967295), it\u0027s a legal value for WebDAV, see\n\u003chttp://tools.ietf.org/html/rfc4918#section-10.7\u003e:\n\"The timeout value for TimeType \"Second\" MUST NOT be greater than 2^32-1\"\n\nIn issue 90249 case, it\u0027s the value the WebDAV server sends.\n\nValues higher than ULONG_MAX would be illegal.",
      "parentUuid": "faac7902_2c098f32",
      "revId": "492bc6cb0a7195e9f68011dc4a6c5d8de7357fe7",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "faac7902_87e7b43f",
        "filename": "external/neon/neon_fix_lock_timeout_windows.patch",
        "patchSetId": 2
      },
      "lineNbr": 17,
      "author": {
        "id": 1000045
      },
      "writtenOn": "2015-11-10T17:09:17Z",
      "side": 1,
      "message": "So we should refine the check for an error return from strtoul to\n\n  errno \u003d 0;\n  unsigned long to1 \u003d stroul(...);\n  if (to1 \u003d\u003d ULONG_MAX \u0026\u0026 errno \u003d\u003d ERANGE)\n      return NE_TIMEOUT_INVALID;",
      "parentUuid": "faac7902_27ac08ed",
      "revId": "492bc6cb0a7195e9f68011dc4a6c5d8de7357fe7",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "faac7902_8c06bb1e",
        "filename": "external/neon/neon_fix_lock_timeout_windows.patch",
        "patchSetId": 2
      },
      "lineNbr": 20,
      "author": {
        "id": 1000045
      },
      "writtenOn": "2015-11-10T14:40:30Z",
      "side": 1,
      "message": "assuming 32-bit, two\u0027s-complement long, an input of \"Second-4294967295\" would have resulted in returning NE_TIMEOUT_INVALID from the original code, while now it would result in returning NE_TIMEOUT_INFINITE (-1); I guess it is better to return NE_TIMOUT_INVALID for any valid input in the range \u003e LONG_MAX and \u003c 2^32 than to silent convert it from unsigned long to a negative long return value, i.e., precede the else branch with another\n\n  else if (to1 \u003e (unsinged long) LONG_MAX)\n      return NE_TIMEOUT_INVALID",
      "revId": "492bc6cb0a7195e9f68011dc4a6c5d8de7357fe7",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "faac7902_67b6103f",
        "filename": "external/neon/neon_fix_lock_timeout_windows.patch",
        "patchSetId": 2
      },
      "lineNbr": 20,
      "author": {
        "id": 1001050
      },
      "writtenOn": "2015-11-10T16:33:24Z",
      "side": 1,
      "message": "for practical use, probably for this should be better:\n\nif (to1 \u003e (unsinged long) LONG_MAX)\n      return NE_TIMEOUT_INFINITE;\n\nLONG_MAX would be a lock timeout of around 68 years, practically an infinite time, I think.\nThe if clause presented in the comment above would no longer be necessary.",
      "parentUuid": "faac7902_8c06bb1e",
      "revId": "492bc6cb0a7195e9f68011dc4a6c5d8de7357fe7",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "faac7902_a7d47847",
        "filename": "external/neon/neon_fix_lock_timeout_windows.patch",
        "patchSetId": 2
      },
      "lineNbr": 20,
      "author": {
        "id": 1000045
      },
      "writtenOn": "2015-11-10T17:09:17Z",
      "side": 1,
      "message": "Forget my original comment here.  As it is apparently important to report valid input in the range \u003e\u003d LONG_MAX and \u003c 2^32 as a \"valid\" return value (i.e., not NE_TIMEOUT_INVALID, but rather some positive value), a branch\n\n  if (to1 \u003e LONG_MAX)\n      to1 \u003d LONG_MAX;\n\nmakes sense to me now (though I think the \"- 1\" is unnecessary).",
      "parentUuid": "faac7902_67b6103f",
      "revId": "492bc6cb0a7195e9f68011dc4a6c5d8de7357fe7",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "faac7902_0c12cb62",
        "filename": "external/neon/neon_fix_lock_timeout_windows.patch",
        "patchSetId": 2
      },
      "lineNbr": 22,
      "author": {
        "id": 1000045
      },
      "writtenOn": "2015-11-10T14:40:30Z",
      "side": 1,
      "message": "this and the following lines did not change from the original, apart from the trivial tab vs. spaces; I\u0027d suggest to use tabs in your change, too, and turn these effectively unchanged lines back into context\n\nand this check should no longer be necessary at all, see the other comments above",
      "revId": "492bc6cb0a7195e9f68011dc4a6c5d8de7357fe7",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "faac7902_87b97431",
        "filename": "external/neon/neon_fix_lock_timeout_windows.patch",
        "patchSetId": 2
      },
      "lineNbr": 22,
      "author": {
        "id": 1001050
      },
      "writtenOn": "2015-11-10T16:33:24Z",
      "side": 1,
      "message": "I agree, no longer necessary",
      "parentUuid": "faac7902_0c12cb62",
      "revId": "492bc6cb0a7195e9f68011dc4a6c5d8de7357fe7",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": false
    }
  ]
}