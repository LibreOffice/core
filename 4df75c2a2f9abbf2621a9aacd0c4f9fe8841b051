{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "1e4b0375_35c6cec2",
        "filename": "filter/qa/pdf.cxx",
        "patchSetId": 4
      },
      "lineNbr": 135,
      "author": {
        "id": 1000994
      },
      "writtenOn": "2022-03-07T15:06:07Z",
      "side": 1,
      "message": "By the way, the PDF has 267.507 pt page width, which translates to 94.3705 mm.",
      "revId": "4df75c2a2f9abbf2621a9aacd0c4f9fe8841b051",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "23d859c2_011965dc",
        "filename": "filter/qa/pdf.cxx",
        "patchSetId": 4
      },
      "lineNbr": 135,
      "author": {
        "id": 1000013
      },
      "writtenOn": "2022-03-07T15:18:15Z",
      "side": 1,
      "message": "Aha, I see. My hope was that in case vcl::RenderPDFBitmaps() does a logic -\u003e pixel conversion with the default DPI and then XPdfDecomposer::getDecomposition() does a pixel -\u003e logic conversion with the same DPI, then this should match, regardless of the DPI. But as you say, this is not the reality.\n\nThanks for researching this!",
      "parentUuid": "1e4b0375_35c6cec2",
      "revId": "4df75c2a2f9abbf2621a9aacd0c4f9fe8841b051",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7e3fcb29_7a7dd39e",
        "filename": "filter/qa/pdf.cxx",
        "patchSetId": 4
      },
      "lineNbr": 140,
      "author": {
        "id": 1000994
      },
      "writtenOn": "2022-03-07T07:57:20Z",
      "side": 1,
      "message": "This test is DPI-dependent; using 150% scaling on Windows, it fails with\n\n  - Expected: 9419\n  - Actual  : 9437",
      "revId": "4df75c2a2f9abbf2621a9aacd0c4f9fe8841b051",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f1e89fbc_a2a16f60",
        "filename": "filter/qa/pdf.cxx",
        "patchSetId": 4
      },
      "lineNbr": 140,
      "author": {
        "id": 1000013
      },
      "writtenOn": "2022-03-07T09:49:15Z",
      "side": 1,
      "message": "That makes me cry. This is meant to be a nice situation where we only deal with logic units... anyhow, could you please just disable the test in the \"custom dpi\" case?\n\nThanks!",
      "parentUuid": "7e3fcb29_7a7dd39e",
      "revId": "4df75c2a2f9abbf2621a9aacd0c4f9fe8841b051",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "01afdd02_507e6890",
        "filename": "filter/qa/pdf.cxx",
        "patchSetId": 4
      },
      "lineNbr": 140,
      "author": {
        "id": 1000994
      },
      "writtenOn": "2022-03-07T12:47:18Z",
      "side": 1,
      "message": "https://gerrit.libreoffice.org/c/core/+/131110 is to handle that (I wish I had cycles to track the DPI awareness down ðŸ˜ž)",
      "parentUuid": "f1e89fbc_a2a16f60",
      "revId": "4df75c2a2f9abbf2621a9aacd0c4f9fe8841b051",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3bbadd4f_27ca561a",
        "filename": "filter/qa/pdf.cxx",
        "patchSetId": 4
      },
      "lineNbr": 140,
      "author": {
        "id": 1000994
      },
      "writtenOn": "2022-03-07T14:44:47Z",
      "side": 1,
      "message": "Ah, the problem is XPdfDecomposer::getDecomposition, which does two DPI-dependent operations: it renders the PDF, which results in DPI-dependent bitmap (356x114 for 96DPI, 445x142 for 150% scaling, 535x171 for 150% scaling); then it uses PixelToLogic to get the mm100 size.\n\nI have no idea if it\u0027s possible to not have it DPI-dependent, given this sequence.",
      "parentUuid": "01afdd02_507e6890",
      "revId": "4df75c2a2f9abbf2621a9aacd0c4f9fe8841b051",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615"
    }
  ]
}