{
  "comments": [
    {
      "key": {
        "uuid": "71eacfb8_952ec72f",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 54,
      "author": {
        "id": 1000045
      },
      "writtenOn": "2020-10-20T06:34:20Z",
      "side": 1,
      "message": "And with this change, if UNO_JAVA_JFW_JREHOME is set, the \"Advanced\" options page would show (and allow the user to select) all Java installations that are found automatically, just not any that had manually been added with the \"Add...\" button, right?",
      "revId": "a2fe9d888ec575d8e6e1e0951f77f48db51dd670",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "717a5a4d_836edb50",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 54,
      "author": {
        "id": 1000789
      },
      "writtenOn": "2020-10-20T06:42:08Z",
      "side": 1,
      "message": "Exactly, though https://gerrit.libreoffice.org/c/core/+/104002/1 will also keep the user from selecting any other one as long as UNO_JAVA_JFW_JREHOME is set (since user selection is disregarded anayway).",
      "parentUuid": "71eacfb8_952ec72f",
      "revId": "a2fe9d888ec575d8e6e1e0951f77f48db51dd670",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e127af8b_f1ae88f1",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 54,
      "author": {
        "id": 1000045
      },
      "writtenOn": "2020-10-20T07:26:57Z",
      "side": 1,
      "message": "Ah, I hadn\u0027t been aware of \u003chttps://gerrit.libreoffice.org/c/core/+/104002\u003e \"Gray out Java options when framework\u0027s direct mode is used\".\n\nWhat is the logic to show the automatically found but not the manually added Java installations (even in a grayed-out list) when UNO_JAVA_JFW_JREHOME is set?\n\nTo me, this change here sounds like something that happens to avoid a SAL_WARN and an empty list, but not by addressing whatever root cause, but by introducing dubious logic (i.e., \"exclude some elements from jfw_findAllJREs because otherwise we would hit a SAL_WARN\")?  But I guess I need to look deeper into this to come up with an informed opinion here.",
      "parentUuid": "717a5a4d_836edb50",
      "revId": "a2fe9d888ec575d8e6e1e0951f77f48db51dd670",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "521aaf5d_64c535f3",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 54,
      "author": {
        "id": 1000789
      },
      "writtenOn": "2020-10-20T07:55:02Z",
      "side": 1,
      "message": "\u003e Ah, I hadn\u0027t been aware of \u003chttps://gerrit.libreoffice.org/c/core/+/104002\u003e \"Gray out Java options when framework\u0027s direct mode is used\".\n\nI should have been more explicit here, not just mentioning \"the patch series\"... FWIW, the third change in the series is https://gerrit.libreoffice.org/c/core/+/104064 (\"Properly (un)tick Java checkbox in Java options in direct mode\")\n\n\u003e What is the logic to show the automatically found but not the manually added Java installations (even in a grayed-out list) when UNO_JAVA_JFW_JREHOME is set?\n\u003e \n\u003e To me, this change here sounds like something that happens to avoid a SAL_WARN and an empty list, but not by addressing whatever root cause, but by introducing dubious logic (i.e., \"exclude some elements from jfw_findAllJREs because otherwise we would hit a SAL_WARN\")?  But I guess I need to look deeper into this to come up with an informed opinion here.\n\nFrom how I understand it: The user\u0027s changes to Java settings in the option dialog (like adding or selecting another JRE, changing classpath,...) are written to the user-specific \u0027javasettings_${_OS}_${_ARCH}.xml\u0027 (like \u0027instdir/user/config/javasettings_Linux_X86_64.xml\u0027 for a development build on Linux).\n\nDirect mode completely ignores the \u0027javasettings_${_OS}_${_ARCH}.xml\u0027 files (both the system-wide as well as the user-specific one, s. the \"By setting UNO_JAVA_JFW_JREHOME the framework is switched into direct mode and the office settings are disregarded.\" quote in the commit message), which is why this change avoids creating and evaluating the \u0027jfw::MergedSettings\u0027 when direct mode is used.",
      "parentUuid": "e127af8b_f1ae88f1",
      "revId": "a2fe9d888ec575d8e6e1e0951f77f48db51dd670",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "161e9633_7f2f8ef2",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 54,
      "author": {
        "id": 1000045
      },
      "writtenOn": "2020-10-20T20:37:45Z",
      "side": 1,
      "message": "\u003e From how I understand it: The user\u0027s changes to Java settings in the option dialog (like adding or selecting another JRE, changing classpath,...) are written to the user-specific \u0027javasettings_${_OS}_${_ARCH}.xml\u0027 (like \u0027instdir/user/config/javasettings_Linux_X86_64.xml\u0027 for a development build on Linux).\n\u003e \n\u003e Direct mode completely ignores the \u0027javasettings_${_OS}_${_ARCH}.xml\u0027 files (both the system-wide as well as the user-specific one, s. the \"By setting UNO_JAVA_JFW_JREHOME the framework is switched into direct mode and the office settings are disregarded.\" quote in the commit message), which is why this change avoids creating and evaluating the \u0027jfw::MergedSettings\u0027 when direct mode is used.\n\nYeah, now I get it.  So this change indeed makes sense.  Maybe it would be worth it to add a comment in jfw_findAllJREs explaining why the settings.getJRELocations part is omitted in direct mode.",
      "parentUuid": "521aaf5d_64c535f3",
      "revId": "a2fe9d888ec575d8e6e1e0951f77f48db51dd670",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "861cd89f_7d4721ec",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 54,
      "author": {
        "id": 1000789
      },
      "writtenOn": "2020-10-21T08:25:27Z",
      "side": 1,
      "message": "\u003e Yeah, now I get it.  So this change indeed makes sense.  Maybe it would be worth it to add a comment in jfw_findAllJREs explaining why the settings.getJRELocations part is omitted in direct mode.\n\nI\u0027ve added a respective comment in patch set 2.",
      "parentUuid": "161e9633_7f2f8ef2",
      "revId": "a2fe9d888ec575d8e6e1e0951f77f48db51dd670",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8706ba24_e4a33fde",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 54,
      "author": {
        "id": 1000045
      },
      "writtenOn": "2020-10-21T08:31:11Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "861cd89f_7d4721ec",
      "revId": "a2fe9d888ec575d8e6e1e0951f77f48db51dd670",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": false
    }
  ]
}