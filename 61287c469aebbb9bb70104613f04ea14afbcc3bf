{
  "comments": [
    {
      "key": {
        "uuid": "5f4e5783_b2b622d9",
        "filename": "vcl/win/gdi/gdiimpl.cxx",
        "patchSetId": 19
      },
      "lineNbr": 23,
      "author": {
        "id": 1000994
      },
      "writtenOn": "2018-12-22T15:35:39Z",
      "side": 1,
      "message": "I dislike this name (although it\u0027s indeed raii). HBRUSHUniquePtr.hxx - or GDISmartPtr - seems better; it has the benefit to be unique enough to not provoke duplicate names if someone decides to follow this track and introduce a \"raii.hxx\" in a different place. In not a single occasion, I had to do several attempts when looked for a file with relevant functionality, when all I knew was its name, but not its location (e.g., it still happens for me working on PVS Studio report).",
      "range": {
        "startLine": 23,
        "startChar": 10,
        "endLine": 23,
        "endChar": 18
      },
      "revId": "61287c469aebbb9bb70104613f04ea14afbcc3bf",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5f4e5783_fd934b4e",
        "filename": "vcl/win/gdi/gdiimpl.cxx",
        "patchSetId": 19
      },
      "lineNbr": 23,
      "author": {
        "id": 1001994
      },
      "writtenOn": "2018-12-25T05:36:17Z",
      "side": 1,
      "message": "The idea is to keep all ScopedHBRUSH, ScopedHPEN, etc in one place because they are very small and it seems OK to have them in one place. Probably the better file name would be: ScopedGDI.hxx/ScopedGDIHdl.hxx.",
      "parentUuid": "5f4e5783_b2b622d9",
      "range": {
        "startLine": 23,
        "startChar": 10,
        "endLine": 23,
        "endChar": 18
      },
      "revId": "61287c469aebbb9bb70104613f04ea14afbcc3bf",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5f4e5783_92cb2652",
        "filename": "vcl/win/gdi/gdiimpl.cxx",
        "patchSetId": 19
      },
      "lineNbr": 1586,
      "author": {
        "id": 1000994
      },
      "writtenOn": "2018-12-22T15:35:39Z",
      "side": 1,
      "message": "Is this a pointer actually? Yes, it\u0027s implemented as a unique_ptr; and in C WinAPI, it\u0027s declared as a pointer; but IMO, it\u0027s an implementation detail (actually it\u0027s an opaque data of INT_PTR size). So - maybe something like BRUSHScopedHdl / ScopedHBRUSH?",
      "range": {
        "startLine": 1586,
        "startChar": 16,
        "endLine": 1586,
        "endChar": 19
      },
      "revId": "61287c469aebbb9bb70104613f04ea14afbcc3bf",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5f4e5783_1d8f4724",
        "filename": "vcl/win/gdi/gdiimpl.cxx",
        "patchSetId": 19
      },
      "lineNbr": 1586,
      "author": {
        "id": 1001994
      },
      "writtenOn": "2018-12-25T05:36:17Z",
      "side": 1,
      "message": "Well, generally say, you right and it would be better to hide the implementation details. I would prefer to use ScopedHBRUSH.",
      "parentUuid": "5f4e5783_92cb2652",
      "range": {
        "startLine": 1586,
        "startChar": 16,
        "endLine": 1586,
        "endChar": 19
      },
      "revId": "61287c469aebbb9bb70104613f04ea14afbcc3bf",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5f4e5783_72c8aa54",
        "filename": "vcl/win/gdi/raii.cxx",
        "patchSetId": 19
      },
      "lineNbr": 12,
      "author": {
        "id": 1000994
      },
      "writtenOn": "2018-12-22T15:35:39Z",
      "side": 1,
      "message": "This is quite trivial, so I\u0027d move it to the header. But possibly there\u0027s some compiler problem with that?",
      "range": {
        "startLine": 12,
        "startChar": 0,
        "endLine": 12,
        "endChar": 71
      },
      "revId": "61287c469aebbb9bb70104613f04ea14afbcc3bf",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5f4e5783_3d744335",
        "filename": "vcl/win/gdi/raii.cxx",
        "patchSetId": 19
      },
      "lineNbr": 12,
      "author": {
        "id": 1001994
      },
      "writtenOn": "2018-12-25T05:36:17Z",
      "side": 1,
      "message": "No problem, just want to avoid any implementation details in hxx.",
      "parentUuid": "5f4e5783_72c8aa54",
      "range": {
        "startLine": 12,
        "startChar": 0,
        "endLine": 12,
        "endChar": 71
      },
      "revId": "61287c469aebbb9bb70104613f04ea14afbcc3bf",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5f4e5783_1db867c6",
        "filename": "vcl/win/gdi/raii.cxx",
        "patchSetId": 19
      },
      "lineNbr": 12,
      "author": {
        "id": 1000994
      },
      "writtenOn": "2018-12-25T08:33:34Z",
      "side": 1,
      "message": "In this case, hiding this detail seems odd: we don\u0027t hide the quite irrelevant detail that we implement the smart object using unique_ptr (and that\u0027s OK to keep the overhead as little as possible), but hide the *relevant* detail that it calls DeleteBrush (this might be much more interesting to users to know how the housekeeping is performed :-)).\n\nBy the way: can\u0027t we just use the WinAPI function pointer as the deleter, without introducing a wrapper around it?",
      "parentUuid": "5f4e5783_3d744335",
      "range": {
        "startLine": 12,
        "startChar": 0,
        "endLine": 12,
        "endChar": 71
      },
      "revId": "61287c469aebbb9bb70104613f04ea14afbcc3bf",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5f4e5783_ddb1afe3",
        "filename": "vcl/win/gdi/raii.cxx",
        "patchSetId": 19
      },
      "lineNbr": 12,
      "author": {
        "id": 1000994
      },
      "writtenOn": "2018-12-25T08:37:55Z",
      "side": 1,
      "message": "Or will use of the function ptr increase the unique_ptr actually? It was just a guess from my side, not necessarily a good one - please feel free to reject if it\u0027s wrong.",
      "parentUuid": "5f4e5783_1db867c6",
      "range": {
        "startLine": 12,
        "startChar": 0,
        "endLine": 12,
        "endChar": 71
      },
      "revId": "61287c469aebbb9bb70104613f04ea14afbcc3bf",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5f4e5783_b8af2193",
        "filename": "vcl/win/gdi/raii.cxx",
        "patchSetId": 19
      },
      "lineNbr": 12,
      "author": {
        "id": 1001994
      },
      "writtenOn": "2018-12-27T09:46:56Z",
      "side": 1,
      "message": "As discussed privately:\n\n* using function pointer increase the unique_ptr size [1].\n* raii.hxx will be renamed to scoped_gdi.hxx.\n* HBRUSHUniquePtr will be renamed to ScopedHBRUSH.\n\n[1] http://coliru.stacked-crooked.com/a/fba00470515f857b",
      "parentUuid": "5f4e5783_ddb1afe3",
      "range": {
        "startLine": 12,
        "startChar": 0,
        "endLine": 12,
        "endChar": 71
      },
      "revId": "61287c469aebbb9bb70104613f04ea14afbcc3bf",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5f4e5783_9dcb3752",
        "filename": "vcl/win/gdi/raii.hxx",
        "patchSetId": 19
      },
      "lineNbr": 20,
      "author": {
        "id": 1000994
      },
      "writtenOn": "2018-12-25T08:39:02Z",
      "side": 1,
      "message": "What is this for btw?",
      "range": {
        "startLine": 20,
        "startChar": 4,
        "endLine": 20,
        "endChar": 27
      },
      "revId": "61287c469aebbb9bb70104613f04ea14afbcc3bf",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": false
    }
  ]
}