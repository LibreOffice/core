{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "bd741744_68d3abfa",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000045
      },
      "writtenOn": "2022-07-22T06:31:07Z",
      "side": 1,
      "message": "\u003chttps://ci.libreoffice.org//job/lo_ubsan/2469/\u003e kill-wrapper /home/tdf/lode/jenkins/workspace/lo_ubsan/workdir/UITest/sw_fieldDialog/done.log contains\n  \u003d\u003d13746\u003d\u003dERROR: AddressSanitizer: heap-use-after-free on address 0x6060008b6968 at pc 0x7f1f474ffa39 bp 0x7ffe28bb95b0 sp 0x7ffe28bb95a8\n  READ of size 4 at 0x6060008b6968 thread T0\n      #0 0x7f1f474ffa38 in SwTextAttr::GetStart() const /sw/inc/txatbase.hxx:88:41\n      #1 0x7f1f4b9d8d2c in SwTextNode::InsertHint(SwTextAttr*, SetAttrMode) /sw/source/core/txtnode/thints.cxx:1691:34\n      #2 0x7f1f4b9ef0b5 in SwTextNode::SetAttr(SfxItemSet const\u0026, int, int, SetAttrMode, SwTextAttr**) /sw/source/core/txtnode/thints.cxx:2012:39\n      #3 0x7f1f4bb883d1 in SwRegHistory::InsertItems(SfxItemSet const\u0026, int, int, SetAttrMode, SwTextAttr**) /sw/source/core/undo/rolbck.cxx:1454:39\n      #4 0x7f1f48a73a68 in (anonymous namespace)::lcl_InsAttr(SwDoc\u0026, SwPaM const\u0026, SfxItemSet const\u0026, SetAttrMode, SwUndoAttr*, SwRootFrame const*, SwTextAttr**) /sw/source/core/doc/DocumentContentOperationsManager.cxx:1549:36\n      #5 0x7f1f48a6ddc2 in sw::DocumentContentOperationsManager::InsertPoolItem(SwPaM const\u0026, SfxPoolItem const\u0026, SetAttrMode, SwRootFrame const*, SwTextAttr**) /sw/source/core/doc/DocumentContentOperationsManager.cxx:3575:23\n      #6 0x7f1f49946625 in SwEditShell::InsertField(SwField const\u0026, bool) /sw/source/core/edit/edfld.cxx:155:63\n      #7 0x7f1f4f77b954 in SwWrtShell::InsertField2(SwField const\u0026, SwPaM*) /sw/source/uibase/wrtsh/wrtsh2.cxx:115:41\n      #8 0x7f1f4e43e9a4 in SwFieldMgr::InsertField(SwInsertField_Data const\u0026) /sw/source/uibase/fldui/fldmgr.cxx:1490:39\n      #9 0x7f1f2be17b04 in SwFieldPage::InsertField(SwFieldTypesEnum, unsigned short, rtl::OUString const\u0026, rtl::OUString const\u0026, unsigned int, char16_t, bool) /sw/source/ui/fldui/fldpage.cxx:128:16\n      #10 0x7f1f2be0f133 in SwFieldFuncPage::FillItemSet(SfxItemSet*) /sw/source/ui/fldui/fldfunc.cxx:572:9\n      #11 0x7f1f2be6d93c in SwFieldDlg::OKHdl(weld::Button\u0026) /sw/source/ui/fldui/fldtdlg.cxx:164:16\n      #12 0x7f1f2be6acec in SwFieldDlg::LinkStubOKHdl(void*, weld::Button\u0026) /sw/source/ui/fldui/fldtdlg.cxx:158:1\n      #13 0x7f1faa4ec2e9 in Link\u003cweld::Button\u0026, void\u003e::Call(weld::Button\u0026) const /include/tools/link.hxx:111:45\n      #14 0x7f1faa485cbc in weld::Button::signal_clicked() /include/vcl/weld.hxx:1448:41\n      #15 0x7f1faa345288 in SalInstanceButton::ClickHdl(Button*) /vcl/source/app/salvtables.cxx:2831:5\n      #16 0x7f1faa340708 in SalInstanceButton::LinkStubClickHdl(void*, Button*) /vcl/source/app/salvtables.cxx:2819:1\n      #17 0x7f1fa805eeed in Link\u003cButton*, void\u003e::Call(Button*) const /include/tools/link.hxx:111:45\n      #18 0x7f1fa804c6d6 in Button::Click()::$_0::operator()() const /vcl/source/control/button.cxx:130:87\n      #19 0x7f1fa804c19c in std::_Function_handler\u003cvoid (), Button::Click()::$_0\u003e::_M_invoke(std::_Any_data const\u0026) /opt/rh/devtoolset-7/root/usr/lib/gcc/x86_64-redhat-linux/7/../../../../include/c++/7/bits/std_function.h:316:2\n      #20 0x7f1fa81458d1 in std::function\u003cvoid ()\u003e::operator()() const /opt/rh/devtoolset-7/root/usr/lib/gcc/x86_64-redhat-linux/7/../../../../include/c++/7/bits/std_function.h:706:14\n      #21 0x7f1fa813b414 in Control::ImplCallEventListenersAndHandler(VclEventId, std::function\u003cvoid ()\u003e const\u0026) /vcl/source/control/ctrl.cxx:311:13\n      #22 0x7f1fa7fd679a in Button::Click() /vcl/source/control/button.cxx:130:5\n      #23 0x7f1fab1448ac in ButtonUIObject::execute(rtl::OUString const\u0026, std::__debug::map\u003crtl::OUString, rtl::OUString, std::less\u003crtl::OUString\u003e, std::allocator\u003cstd::pair\u003crtl::OUString const, rtl::OUString\u003e \u003e \u003e const\u0026) /vcl/source/uitest/uiobject.cxx:624:19\n      #24 0x7f1fab1bc769 in UIObjectUnoObj::executeAction(rtl::OUString const\u0026, com::sun::star::uno::Sequence\u003ccom::sun::star::beans::PropertyValue\u003e const\u0026)::$_0::operator()() const /vcl/source/uitest/uno/uiobject_uno.cxx:137:16\n      #25 0x7f1fab1bb9bc in std::_Function_handler\u003cvoid (), UIObjectUnoObj::executeAction(rtl::OUString const\u0026, com::sun::star::uno::Sequence\u003ccom::sun::star::beans::PropertyValue\u003e const\u0026)::$_0\u003e::_M_invoke(std::_Any_data const\u0026) /opt/rh/devtoolset-7/root/usr/lib/gcc/x86_64-redhat-linux/7/../../../../include/c++/7/bits/std_function.h:316:2\n      #26 0x7f1fa81458d1 in std::function\u003cvoid ()\u003e::operator()() const /opt/rh/devtoolset-7/root/usr/lib/gcc/x86_64-redhat-linux/7/../../../../include/c++/7/bits/std_function.h:706:14\n      #27 0x7f1fab1bb336 in (anonymous namespace)::ExecuteWrapper::ExecuteActionHdl(Timer*) /vcl/source/uitest/uno/uiobject_uno.cxx:102:13\n      #28 0x7f1fab1b7d88 in (anonymous namespace)::ExecuteWrapper::LinkStubExecuteActionHdl(void*, Timer*) /vcl/source/uitest/uno/uiobject_uno.cxx:97:1\n      #29 0x7f1faa7975bd in Link\u003cTimer*, void\u003e::Call(Timer*) const /include/tools/link.hxx:111:45\n      #30 0x7f1faa796b6c in Timer::Invoke() /vcl/source/app/timer.cxx:75:21\n      #31 0x7f1faa5f9b7f in Scheduler::CallbackTaskScheduling() /vcl/source/app/scheduler.cxx:472:16\n      #32 0x7f1fab742553 in SalTimer::CallCallback() /vcl/inc/saltimer.hxx:54:13\n      #33 0x7f1fab7360f3 in SvpSalInstance::CheckTimeout(bool) /vcl/headless/svpinst.cxx:212:53\n      #34 0x7f1fab73c98e in SvpSalInstance::ImplYield(bool, bool) /vcl/headless/svpinst.cxx:452:17\n      #35 0x7f1fab73eff0 in SvpSalInstance::DoYield(bool, bool) /vcl/headless/svpinst.cxx:524:21\n      #36 0x7f1faa6e6f14 in ImplYield(bool, bool) /vcl/source/app/svapp.cxx:474:48\n      #37 0x7f1faa6e55c8 in Application::Yield() /vcl/source/app/svapp.cxx:558:5\n      #38 0x7f1faa6e4d6c in Application::Execute() /vcl/source/app/svapp.cxx:452:13\n      #39 0x7f1fe6dd69bb in desktop::Desktop::Main() /desktop/source/app/app.cxx:1600:13\n      #40 0x7f1faa78155f in ImplSVMain() /vcl/source/app/svmain.cxx:203:35\n      #41 0x7f1faa789e70 in SVMain() /vcl/source/app/svmain.cxx:235:12\n      #42 0x7f1fe6fb7480 in soffice_main /desktop/source/app/sofficemain.cxx:94:12\n      #43 0x50136c in sal_main /desktop/source/app/main.c:51:15\n      #44 0x501346 in main /desktop/source/app/main.c:49:1\n      #45 0x7f1fe5706554 in __libc_start_main /usr/src/debug/glibc-2.17-c758a686/csu/../csu/libc-start.c:266\n      #46 0x425b94 in _start (/instdir/program/soffice.bin+0x425b94)\n  \n  0x6060008b6968 is located 40 bytes inside of 56-byte region [0x6060008b6940,0x6060008b6978)\n  freed by thread T0 here:\n      #0 0x4fe988 in operator delete(void*, unsigned long) /home/tdf/lode/packages/llvm-llvmorg-12.0.1.src/compiler-rt/lib/asan/asan_new_delete.cpp:172\n      #1 0x7f1f4b68bf16 in SwTextField::~SwTextField() /sw/source/core/txtnode/atrfld.cxx:481:1\n      #2 0x7f1f4ba74086 in SwTextAttr::Destroy(SwTextAttr*, SfxItemPool\u0026) /sw/source/core/txtnode/txatbase.cxx:62:5\n      #3 0x7f1f4b9bae64 in SwTextNode::DestroyAttr(SwTextAttr*) /sw/source/core/txtnode/thints.cxx:1302:5\n      #4 0x7f1f4b9d80b5 in SwTextNode::InsertHint(SwTextAttr*, SetAttrMode) /sw/source/core/txtnode/thints.cxx:1671:17\n      #5 0x7f1f4b9ef0b5 in SwTextNode::SetAttr(SfxItemSet const\u0026, int, int, SetAttrMode, SwTextAttr**) /sw/source/core/txtnode/thints.cxx:2012:39\n      #6 0x7f1f4bb883d1 in SwRegHistory::InsertItems(SfxItemSet const\u0026, int, int, SetAttrMode, SwTextAttr**) /sw/source/core/undo/rolbck.cxx:1454:39\n      #7 0x7f1f48a73a68 in (anonymous namespace)::lcl_InsAttr(SwDoc\u0026, SwPaM const\u0026, SfxItemSet const\u0026, SetAttrMode, SwUndoAttr*, SwRootFrame const*, SwTextAttr**) /sw/source/core/doc/DocumentContentOperationsManager.cxx:1549:36\n      #8 0x7f1f48a6ddc2 in sw::DocumentContentOperationsManager::InsertPoolItem(SwPaM const\u0026, SfxPoolItem const\u0026, SetAttrMode, SwRootFrame const*, SwTextAttr**) /sw/source/core/doc/DocumentContentOperationsManager.cxx:3575:23\n      #9 0x7f1f49946625 in SwEditShell::InsertField(SwField const\u0026, bool) /sw/source/core/edit/edfld.cxx:155:63\n      #10 0x7f1f4f77b954 in SwWrtShell::InsertField2(SwField const\u0026, SwPaM*) /sw/source/uibase/wrtsh/wrtsh2.cxx:115:41\n      #11 0x7f1f4e43e9a4 in SwFieldMgr::InsertField(SwInsertField_Data const\u0026) /sw/source/uibase/fldui/fldmgr.cxx:1490:39\n      #12 0x7f1f2be17b04 in SwFieldPage::InsertField(SwFieldTypesEnum, unsigned short, rtl::OUString const\u0026, rtl::OUString const\u0026, unsigned int, char16_t, bool) /sw/source/ui/fldui/fldpage.cxx:128:16\n      #13 0x7f1f2be0f133 in SwFieldFuncPage::FillItemSet(SfxItemSet*) /sw/source/ui/fldui/fldfunc.cxx:572:9\n      #14 0x7f1f2be6d93c in SwFieldDlg::OKHdl(weld::Button\u0026) /sw/source/ui/fldui/fldtdlg.cxx:164:16\n      #15 0x7f1f2be6acec in SwFieldDlg::LinkStubOKHdl(void*, weld::Button\u0026) /sw/source/ui/fldui/fldtdlg.cxx:158:1\n      #16 0x7f1faa4ec2e9 in Link\u003cweld::Button\u0026, void\u003e::Call(weld::Button\u0026) const /include/tools/link.hxx:111:45\n      #17 0x7f1faa485cbc in weld::Button::signal_clicked() /include/vcl/weld.hxx:1448:41\n      #18 0x7f1faa345288 in SalInstanceButton::ClickHdl(Button*) /vcl/source/app/salvtables.cxx:2831:5\n      #19 0x7f1faa340708 in SalInstanceButton::LinkStubClickHdl(void*, Button*) /vcl/source/app/salvtables.cxx:2819:1\n      #20 0x7f1fa805eeed in Link\u003cButton*, void\u003e::Call(Button*) const /include/tools/link.hxx:111:45\n      #21 0x7f1fa804c6d6 in Button::Click()::$_0::operator()() const /vcl/source/control/button.cxx:130:87\n      #22 0x7f1fa804c19c in std::_Function_handler\u003cvoid (), Button::Click()::$_0\u003e::_M_invoke(std::_Any_data const\u0026) /opt/rh/devtoolset-7/root/usr/lib/gcc/x86_64-redhat-linux/7/../../../../include/c++/7/bits/std_function.h:316:2\n      #23 0x7f1fa81458d1 in std::function\u003cvoid ()\u003e::operator()() const /opt/rh/devtoolset-7/root/usr/lib/gcc/x86_64-redhat-linux/7/../../../../include/c++/7/bits/std_function.h:706:14\n      #24 0x7f1fa813b414 in Control::ImplCallEventListenersAndHandler(VclEventId, std::function\u003cvoid ()\u003e const\u0026) /vcl/source/control/ctrl.cxx:311:13\n      #25 0x7f1fa7fd679a in Button::Click() /vcl/source/control/button.cxx:130:5\n      #26 0x7f1fab1448ac in ButtonUIObject::execute(rtl::OUString const\u0026, std::__debug::map\u003crtl::OUString, rtl::OUString, std::less\u003crtl::OUString\u003e, std::allocator\u003cstd::pair\u003crtl::OUString const, rtl::OUString\u003e \u003e \u003e const\u0026) /vcl/source/uitest/uiobject.cxx:624:19\n      #27 0x7f1fab1bc769 in UIObjectUnoObj::executeAction(rtl::OUString const\u0026, com::sun::star::uno::Sequence\u003ccom::sun::star::beans::PropertyValue\u003e const\u0026)::$_0::operator()() const /vcl/source/uitest/uno/uiobject_uno.cxx:137:16\n      #28 0x7f1fab1bb9bc in std::_Function_handler\u003cvoid (), UIObjectUnoObj::executeAction(rtl::OUString const\u0026, com::sun::star::uno::Sequence\u003ccom::sun::star::beans::PropertyValue\u003e const\u0026)::$_0\u003e::_M_invoke(std::_Any_data const\u0026) /opt/rh/devtoolset-7/root/usr/lib/gcc/x86_64-redhat-linux/7/../../../../include/c++/7/bits/std_function.h:316:2\n      #29 0x7f1fa81458d1 in std::function\u003cvoid ()\u003e::operator()() const /opt/rh/devtoolset-7/root/usr/lib/gcc/x86_64-redhat-linux/7/../../../../include/c++/7/bits/std_function.h:706:14\n  \n  previously allocated by thread T0 here:\n      #0 0x4fdac8 in operator new(unsigned long) /home/tdf/lode/packages/llvm-llvmorg-12.0.1.src/compiler-rt/lib/asan/asan_new_delete.cpp:99\n      #1 0x7f1f4b9c6bf5 in MakeTextAttr(SwDoc\u0026, SfxPoolItem\u0026, int, int, CopyOrNewType, SwTextNode*) /sw/source/core/txtnode/thints.cxx:1084:16\n      #2 0x7f1f4b9eec46 in SwTextNode::SetAttr(SfxItemSet const\u0026, int, int, SetAttrMode, SwTextAttr**) /sw/source/core/txtnode/thints.cxx:2000:50\n      #3 0x7f1f4bb883d1 in SwRegHistory::InsertItems(SfxItemSet const\u0026, int, int, SetAttrMode, SwTextAttr**) /sw/source/core/undo/rolbck.cxx:1454:39\n      #4 0x7f1f48a73a68 in (anonymous namespace)::lcl_InsAttr(SwDoc\u0026, SwPaM const\u0026, SfxItemSet const\u0026, SetAttrMode, SwUndoAttr*, SwRootFrame const*, SwTextAttr**) /sw/source/core/doc/DocumentContentOperationsManager.cxx:1549:36\n      #5 0x7f1f48a6ddc2 in sw::DocumentContentOperationsManager::InsertPoolItem(SwPaM const\u0026, SfxPoolItem const\u0026, SetAttrMode, SwRootFrame const*, SwTextAttr**) /sw/source/core/doc/DocumentContentOperationsManager.cxx:3575:23\n      #6 0x7f1f49946625 in SwEditShell::InsertField(SwField const\u0026, bool) /sw/source/core/edit/edfld.cxx:155:63\n      #7 0x7f1f4f77b954 in SwWrtShell::InsertField2(SwField const\u0026, SwPaM*) /sw/source/uibase/wrtsh/wrtsh2.cxx:115:41\n      #8 0x7f1f4e43e9a4 in SwFieldMgr::InsertField(SwInsertField_Data const\u0026) /sw/source/uibase/fldui/fldmgr.cxx:1490:39\n      #9 0x7f1f2be17b04 in SwFieldPage::InsertField(SwFieldTypesEnum, unsigned short, rtl::OUString const\u0026, rtl::OUString const\u0026, unsigned int, char16_t, bool) /sw/source/ui/fldui/fldpage.cxx:128:16\n      #10 0x7f1f2be0f133 in SwFieldFuncPage::FillItemSet(SfxItemSet*) /sw/source/ui/fldui/fldfunc.cxx:572:9\n      #11 0x7f1f2be6d93c in SwFieldDlg::OKHdl(weld::Button\u0026) /sw/source/ui/fldui/fldtdlg.cxx:164:16\n      #12 0x7f1f2be6acec in SwFieldDlg::LinkStubOKHdl(void*, weld::Button\u0026) /sw/source/ui/fldui/fldtdlg.cxx:158:1\n      #13 0x7f1faa4ec2e9 in Link\u003cweld::Button\u0026, void\u003e::Call(weld::Button\u0026) const /include/tools/link.hxx:111:45\n      #14 0x7f1faa485cbc in weld::Button::signal_clicked() /include/vcl/weld.hxx:1448:41\n      #15 0x7f1faa345288 in SalInstanceButton::ClickHdl(Button*) /vcl/source/app/salvtables.cxx:2831:5\n      #16 0x7f1faa340708 in SalInstanceButton::LinkStubClickHdl(void*, Button*) /vcl/source/app/salvtables.cxx:2819:1\n      #17 0x7f1fa805eeed in Link\u003cButton*, void\u003e::Call(Button*) const /include/tools/link.hxx:111:45\n      #18 0x7f1fa804c6d6 in Button::Click()::$_0::operator()() const /vcl/source/control/button.cxx:130:87\n      #19 0x7f1fa804c19c in std::_Function_handler\u003cvoid (), Button::Click()::$_0\u003e::_M_invoke(std::_Any_data const\u0026) /opt/rh/devtoolset-7/root/usr/lib/gcc/x86_64-redhat-linux/7/../../../../include/c++/7/bits/std_function.h:316:2\n      #20 0x7f1fa81458d1 in std::function\u003cvoid ()\u003e::operator()() const /opt/rh/devtoolset-7/root/usr/lib/gcc/x86_64-redhat-linux/7/../../../../include/c++/7/bits/std_function.h:706:14\n      #21 0x7f1fa813b414 in Control::ImplCallEventListenersAndHandler(VclEventId, std::function\u003cvoid ()\u003e const\u0026) /vcl/source/control/ctrl.cxx:311:13\n      #22 0x7f1fa7fd679a in Button::Click() /vcl/source/control/button.cxx:130:5\n      #23 0x7f1fab1448ac in ButtonUIObject::execute(rtl::OUString const\u0026, std::__debug::map\u003crtl::OUString, rtl::OUString, std::less\u003crtl::OUString\u003e, std::allocator\u003cstd::pair\u003crtl::OUString const, rtl::OUString\u003e \u003e \u003e const\u0026) /vcl/source/uitest/uiobject.cxx:624:19\n      #24 0x7f1fab1bc769 in UIObjectUnoObj::executeAction(rtl::OUString const\u0026, com::sun::star::uno::Sequence\u003ccom::sun::star::beans::PropertyValue\u003e const\u0026)::$_0::operator()() const /vcl/source/uitest/uno/uiobject_uno.cxx:137:16\n      #25 0x7f1fab1bb9bc in std::_Function_handler\u003cvoid (), UIObjectUnoObj::executeAction(rtl::OUString const\u0026, com::sun::star::uno::Sequence\u003ccom::sun::star::beans::PropertyValue\u003e const\u0026)::$_0\u003e::_M_invoke(std::_Any_data const\u0026) /opt/rh/devtoolset-7/root/usr/lib/gcc/x86_64-redhat-linux/7/../../../../include/c++/7/bits/std_function.h:316:2\n      #26 0x7f1fa81458d1 in std::function\u003cvoid ()\u003e::operator()() const /opt/rh/devtoolset-7/root/usr/lib/gcc/x86_64-redhat-linux/7/../../../../include/c++/7/bits/std_function.h:706:14\n      #27 0x7f1fab1bb336 in (anonymous namespace)::ExecuteWrapper::ExecuteActionHdl(Timer*) /vcl/source/uitest/uno/uiobject_uno.cxx:102:13\n      #28 0x7f1fab1b7d88 in (anonymous namespace)::ExecuteWrapper::LinkStubExecuteActionHdl(void*, Timer*) /vcl/source/uitest/uno/uiobject_uno.cxx:97:1\n      #29 0x7f1faa7975bd in Link\u003cTimer*, void\u003e::Call(Timer*) const /include/tools/link.hxx:111:45",
      "revId": "1dce9ee7e12871ee63434499db805e806b9e9d3c",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a913589c_c7c461fa",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000013
      },
      "writtenOn": "2022-07-22T06:34:01Z",
      "side": 1,
      "message": "Thanks for the heads-up, taking a look.",
      "parentUuid": "bd741744_68d3abfa",
      "revId": "1dce9ee7e12871ee63434499db805e806b9e9d3c",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615"
    }
  ]
}