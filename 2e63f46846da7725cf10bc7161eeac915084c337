{
  "comments": [
    {
      "key": {
        "uuid": "3fa0c359_52a4b908",
        "filename": "sal/osl/all/filepath.cxx",
        "patchSetId": 1
      },
      "lineNbr": 108,
      "author": {
        "id": 1000083
      },
      "writtenOn": "2019-04-28T12:44:32Z",
      "side": 1,
      "message": "remember that sal may be called by external code like extensions, so you could be converting a silent problem with an existing extension into a crash",
      "revId": "2e63f46846da7725cf10bc7161eeac915084c337",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3fa0c359_52f27908",
        "filename": "sal/osl/all/filepath.cxx",
        "patchSetId": 1
      },
      "lineNbr": 108,
      "author": {
        "id": 1000994
      },
      "writtenOn": "2019-04-28T13:59:54Z",
      "side": 1,
      "message": "Well... this implementation first dereferences ustrPath, then ustrFile, if sum of their lengths is too much (so if ustrFile is too long, ustrPath will be deref\u0027d regardless if it\u0027s nullptr); then rtl_uString_newConcat internally requires that at least one of its arguments is non-nullptr. And only then the checks are made if the strings should be released.\n\nAnd - I don\u0027t see how that could be an extension problem. The string passed by user (ustrSystemPath) is dereferenced early; and then it\u0027s only internally allocated ustrFile and ustrPath, that must be created anyway?",
      "parentUuid": "3fa0c359_52a4b908",
      "revId": "2e63f46846da7725cf10bc7161eeac915084c337",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3fa0c359_32c80d54",
        "filename": "sal/osl/all/filepath.cxx",
        "patchSetId": 1
      },
      "lineNbr": 108,
      "author": {
        "id": 1000083
      },
      "writtenOn": "2019-04-28T17:43:26Z",
      "side": 1,
      "message": "never mind, ignore my comment, I didn\u0027t read enough of the code to see what was going on.\n\nthe assert should not be necessary, that this effectively already an invariant of the rtl_uString* methods?",
      "parentUuid": "3fa0c359_52f27908",
      "revId": "2e63f46846da7725cf10bc7161eeac915084c337",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3fa0c359_f2d625f2",
        "filename": "sal/osl/all/filepath.cxx",
        "patchSetId": 1
      },
      "lineNbr": 108,
      "author": {
        "id": 1000994
      },
      "writtenOn": "2019-04-28T18:27:46Z",
      "side": 1,
      "message": "I consider the assert as kind of documentation of the invariant that the code depends on. The rtl_uString* functions *might* return nullptr in case of OOM - but in that case, I don\u0027t think the function is supposed to handle that and try to recover, just as in other places throughout the code.\n\nThanks for the review!",
      "parentUuid": "3fa0c359_32c80d54",
      "revId": "2e63f46846da7725cf10bc7161eeac915084c337",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615",
      "unresolved": false
    }
  ]
}